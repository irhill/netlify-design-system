const t={$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{booleanIcon:{type:"string"},bordered:{type:"boolean"},columnSearch:{type:"boolean"},columnSearchInputAttributes:{type:"object"},columnSearchCaseSensitive:{type:"boolean"},columnSearchHighlight:{type:"boolean"},dark:{type:"boolean"},dateFormat:{type:"string"},dateTimeFormat:{type:"string"},debounceTime:{type:"integer"},debug:{type:"boolean"},displayedEntries:{type:"boolean"},fixedHeight:{type:"boolean"},footClassName:{type:"string"},footers:{type:"boolean"},fullTextSearch:{type:"boolean"},fullTextSearchInputAttributes:{type:"object"},fullTextSearchHighlight:{type:"boolean"},fullTextSearchHelpers:{type:"boolean"},headClassName:{type:"string"},headers:{type:"boolean"},hover:{type:"boolean"},layout:{type:"string"},locale:{type:"string"},pageIndex:{type:"integer",minimum:0},pageSize:{type:"integer",minimum:0,maximum:500},rowStatusKey:{type:"string"},schema:{type:"object"},searchPlaceholder:{type:"string"},small:{type:"boolean"},sortHeader:{type:"string"},sortDirection:{type:"string",pattern:"^(asc|desc)$"},striped:{type:"boolean"},totalCount:{type:"integer",minimum:0},ttl:{type:"integer",minimum:-1},visiblePageCount:{type:"integer",minimum:4},width:{type:"string"},cursorPagination:{type:"boolean"}},required:["schema"]},minMax=(t,e)=>!(null!=t.minimum&&null==t.maximum&&e<t.minimum)&&(!(null!=t.maximum&&null==t.minimum&&e>t.maximum)&&(null==t.minimum||null==t.maximum||t.minimum!==t.maximum||t.minimum===e)),e={integer:(t,e)=>"number"==typeof e&&Math.floor(e)===e&&!!minMax(t,e),number:(t,e)=>"number"==typeof e&&!!minMax(t,e),string:(t,e)=>"string"==typeof e,boolean:(t,e)=>"boolean"==typeof e,array:(t,e)=>"object"==typeof e&&Array.isArray(e),object:(t,e)=>"object"==typeof e&&e&&!Array.isArray(e)},errorMessages=(t,e,a)=>{const y=(t,e)=>{if(t.enum&&Array.isArray(t.enum)&&t.enum.length>0&&!t.enum.find((t=>t===e)))return 1===t.enum.length?`must equal ${t.enum[0]}`:2===t.enum.length?`must equal ${t.enum.join(" or ")}`:`must be one of ${t.enum.join(", ")}`},x=(t,e)=>null!=t.minimum&&null!=t.maximum&&(e<t.minimum||e>t.maximum)?`must be between ${t.minimum} and ${t.maximum}`:null!=t.minimum&&null==t.maximum&&e<t.minimum?`must be greater than or equal to ${t.minimum}`:null!=t.maximum&&null==t.minimum&&e>t.maximum?`must be less than or equal to ${t.maximum}`:y(t,e),s={integer:x,number:x,string:y,enum:y};let n=null;if(t.type&&(n=t.type),t.enum&&(n="enum"),s[n]){return(0,s[n])(t,e)||a}return a},a={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,time:/^\d{2}:\d{2}:\d{2}$/,email:/^\S+@\S+$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/};class s{constructor(t){this.schema=t,this.data=null,this.errors={}}validate(t){return this.data=t,this.errors={},this._visit(this.schema.properties,this.schema.required,t),{isValid:0===Object.keys(this.errors).length,errors:this.errors,data:this.data}}_isValid(t,e,a){return void 0===a||(this._isValidOneOf(e,a)?this._isValidAllOf(e,a)?this._isValidAnyOf(e,a)?this._isValidEnum(e,a)?this._isValidType(e,a)?!!this._isValidFormat(e,a)||(this._addError(t,errorMessages(e,a,`format must be ${e.format}`)),!1):(this._addError(t,errorMessages(e,a,`type must be ${e.type}`)),!1):(this._addError(t,errorMessages(e,a,`type must be ${e.enum}`)),!1):(this._addError(t,errorMessages(e,a,`must be any of ${e.anyOf.length} values`)),!1):(this._addError(t,errorMessages(e,a,`must be all of ${e.allOf.length} values`)),!1):(this._addError(t,errorMessages(e,a,`must be one of ${e.oneOf.length} values`)),!1))}_isValidType(t,a){if(!t.type)return!0;return(0,e[t.type])(t,a)}_isValidOneOf(t,e){if(!t.oneOf)return!0;if(!Array.isArray(t.oneOf))return!1;for(const a of t.oneOf){if("object"===a.type&&!this._isValidRequired(a.required,e))return!1;if(a.enum&&Array.isArray(a.enum)&&a.enum.length>0&&this._isValidEnum(a,e))return!0;if(this._isValidType(a,e)&&this._isValidFormat(a,e))return!0}return!1}_validCount(t,e){let a=0;for(const s of t){if("object"===s.type&&this._isValidRequired(s.required,e))return 0;(this._isValidEnum(s,e)||this._isValidType(s,e)&&this._isValidFormat(s,e))&&++a}return a}_isValidAllOf(t,e){return!0}_isValidAnyOf(t,e){return!t.anyOf||!!Array.isArray(t.anyOf)&&this._validCount(t.anyOf,e)>0}_isValidFormat(t,e){if(!t.format)return!0;return a[t.format].test(e)}_isValidEnum(t,e){return!t.enum||Array.isArray(t.enum)&&!!t.enum.find((t=>t===e))}_isValidRequired(t,e){if(!t)return!0;if(!Array.isArray(t))return!1;for(let a of t)if(null==e[a])return!1;return!0}_visit(t,e,a){if(e&&Array.isArray(e))for(let t of e)a[t]||this._addError(t,`${t} is required`);for(let e of Object.keys(t)){let s=t[e];this._isValid(e,s,a[e])&&(void 0!==a[e]&&"object"===s.type&&s.properties&&this._visit(s.properties,s.required,a[e]))}}_addError(t,e){this.errors[t]||(this.errors[t]=e)}}const n="abcdefghijklmnopqrstuvwxyz",r=n+n.toUpperCase()+"1234567890";function generateId(t){return`${t?t+"-":""}${function(t=8){let e="";for(let s=0;s<t;s++)e+=(a=r)[Math.floor(Math.random()*a.length)];var a;return e}()}`}class o{constructor(t){this.originalOptions=Object.assign({},t);const e={booleanIcon:"#table_checkmark, #table_delete_sign",bordered:!1,cache:{},cellTemplates:null,columnSearch:!1,columnSearchCaseSensitive:!1,columnSearchDebounced:null,columnSearchHighlight:!1,columnSearchInputAttributes:null,compiledTemplates:{},currencySymbol:"",cursorPageLinksAdded:!1,cursorPagination:!1,dark:!1,dateFormat:null,dateTimeFormat:null,debounceTime:300,debug:!1,displayedEntries:!0,displayedEntriesRendered:!1,emptyTemplate:'<p class="mu-text-center">No records to show</p>',filteredCache:null,filteredTotalCount:-1,firstTotalCount:-1,firstVisiblePageIndex:0,fixedHeight:!1,focusElement:null,footClassName:null,footers:!1,footRendered:!1,fullTextQuery:null,fullTextSearch:!1,fullTextSearchDebounced:null,fullTextSearchHelpers:!1,fullTextSearchHighlight:!1,fullTextSearchInputAttributes:null,headClassName:null,headers:!0,headRendered:!1,hover:!1,iconIdPrefix:"",id:generateId("table"),inApplets:!1,isTask:!1,layout:"auto",loadedData:null,loadingTemplate:'<p class="mu-text-center">Loading...</p>',locale:"en-GB",pageIndex:0,emptyStatusFilter:{title:"No results found",subTitle:"Retry with new criteria",buttonText:"Search again",btnClick:null},emptyStatusRecords:{title:"No records yet",subTitle:"Add a new record",buttonText:"Add record",btnClick:null},emptyStatusTask:{title:"No new tasks",subTitle:"You're up-to-date",buttonText:"Add task",btnClick:null},pageLinks:{previousCursor:null,nextCursor:null,limit:10},pageSize:50,paginationRendered:!1,rowStatusKey:"rowStatus",searchColumns:null,searchPlaceholder:"Search",small:!1,sortDirection:null,sortHeader:null,sortDropdown:!1,striped:!1,tableClassName:null,tableRendered:!1,totalCount:0,ttl:-1,visiblePageCount:4,width:"100%"};this.observers=[],this.state=Object.assign({},e,t)}registerObserver(t){this.observers.push(t)}setState(t,e=!0,a=(()=>{})){this.state=Object.assign({},this.state,t),e&&this._notifyObservers(a)}getResetState(){return{filteredCache:null,filteredTotalCount:-1,firstVisiblePageIndex:0,fullTextQuery:null,pageIndex:0,sortHeader:null,sortDirection:null,searchColumns:null,paginationRendered:!1}}_notifyObservers(t){this.observers.forEach((t=>t.update(this))),setTimeout(t)}}function getRowIndex(t,e){let a;a=t.store.state.filteredTotalCount>-1?t.store.state.filteredCache:t.store.state.cache;const s=Object.keys(a);for(let t=0;t<s.length;t++)if(a[s[t]].id===e)return s[t];return-1}var index=function(t){const e=arguments,a=this;let s,n,r=1,o="",i="",l=[0];const commit=t=>{1===r&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(t?e[t]:o):3===r&&(t||o)?(l[1]=t?e[t]:o,r=2):2===r&&"..."===o&&t?l[2]=Object.assign(l[2]||{},e[t]):2===r&&o&&!t?(l[2]=l[2]||{})[o]=!0:r>=5&&(5===r?((l[2]=l[2]||{})[n]=t?o?o+e[t]:e[t]:o,r=6):(t||o)&&(l[2][n]+=t?o+e[t]:o)),o=""};for(let e=0;e<t.length;e++){e&&(1===r&&commit(),commit(e));for(let c=0;c<t[e].length;c++)s=t[e][c],1===r?"<"===s?(commit(),l=[l,"",null],r=3):o+=s:4===r?"--"===o&&">"===s?(r=1,o=""):o=s+o[0]:i?s===i?i="":o+=s:'"'===s||"'"===s?i=s:">"===s?(commit(),r=1):r&&("="===s?(r=5,n=o,o=""):"/"===s&&(r<5||">"===t[e][c+1])?(commit(),3===r&&(l=l[0]),r=l,(l=l[0]).push(a.apply(null,r.slice(1))),r=0):" "===s||"\t"===s||"\n"===s||"\r"===s?(commit(),r=2):o+=s),3===r&&"!--"===o&&(r=4,l=l[0])}return commit(),l.length>2?l.slice(1):l[1]};const h=(t,e,...a)=>{let s=null,n=!1;["svg","use","symbol","path","g","defs","title"].indexOf(t)>-1?(s=document.createElementNS("http://www.w3.org/2000/svg",t),n=!0):s=document.createElement(t);for(const t in e)if("on"===t.slice(0,2)){const a=t.slice(2),n=e[t];if(null==n)continue;s.addEventListener(a,n)}else if(["disabled","selected","checked"].indexOf(t)>-1)e[t]&&s.setAttribute(t,t);else if("xlinkHref"===t&&n)e[t]&&s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e[t]);else if("href"===t&&n)e[t]&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",e[t]);else{if(null==e[t])continue;s.setAttribute(t,e[t])}if(0===a.length)return s;return a.flat().forEach((t=>{t instanceof Node?s.appendChild(t):s.appendChild(document.createTextNode(t))})),null==t?s.children:s},i=index.bind(h);const Checkbox=(t,e,a,s,n,r=!1)=>{const o=t.store.state.onAction;return i`<input type="checkbox" aria-label="select row" name="${`${n}_${a}`}" value="${s}" checked="${s}" disabled="${!r}" onchange="${function(t,e,a,s,n){if(s)return function(r){const o=getRowIndex(t,n),i={...e,[a]:r.target.checked};s(t.table,a,[{index:o,rowData:i,value:r.target.checked}])}}(t,e,a,o,n)}">`};const Button=(t,e,a,s,n,r,o)=>{const l=t.store.state.onAction;let c=!1,u=!1;return n&&"object"==typeof n&&n[s]&&(null!=n[s].disabled&&(c=n[s].disabled),null!=n[s].hidden&&(u=n[s].hidden)),null!=e.hidden&&(u=e.hidden),i`<button type="button" title="${e.title?`${e.title}-table`:"table-action"}" class="${`mcc-button--${e.color||"secondary"}${o?` ${o}`:""}${u?" mu-d-none":""}`}" onclick="${function(t,e,a,s,n,r){if(s)return function(){const o=getRowIndex(t,n);s(t.table,a,[{index:o,rowData:e,value:null}],r)}}(t,a,s,l,r,e)}" disabled="${c}">${function(t,e,a,s=!1){if(e){let a=e;return t&&""!==t&&"#"===e.substring(0,1)?a=`#${t}${e.substring(1)}`:t&&""!==t&&(a=`#${t}${e}`),i`<svg width="18" height="18"><use xlinkHref="${a}" href="${a}"/></svg>`}return""}(t.store.state.iconIdPrefix,e.icon,e.title,e.iconOnly)} ${e.iconOnly?"":function(t,e,a){return"link"===t.color&&a[e]?i`<div>${null!=a[e].value?a[e].value:a[e]}</div>`:t.title?i`<div>${t.title}</div>`:""}(e,s,a)}</button>`};const Select=(t,e,a,s,n,r=!1)=>{const o=t.store.state.onAction,l=!r,c=[{id:generateId(),data:null},...s.map((t=>({id:generateId(),data:t})))];return i`<select name="${`${n}_${a}`}" aria-label="${a}" disabled="${l}" onchange="${function(t,e,a,s,n,r){if(s)return function(o){const i=getRowIndex(t,n),l=r.find((t=>t.id===o.target.value));s(t.table,a,[{index:i,rowData:e,value:l.data}])}}(t,e,a,o,n,c)}">${c.map((t=>function(t){return t.data&&"object"==typeof t.data&&t.data.value&&t.data.text?i`<option value="${t.id}" selected="${t.data.selected}">${t.data.text}</option>`:i`<option value="${t.id}">${t.data||""}</option>`}(t)))}</select>`};function elementFromString(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}function isSchema(t,e){return"actions"!==t&&("object"==typeof e&&e.properties)}function isNumberType(t){return"number"===t.type}function isBooleanType(t){return"boolean"===t.type}function isDateType(t){return"string"===t.type&&t.format&&"date"===t.format}function isDateTimeType(t){return"string"===t.type&&t.format&&"date-time"===t.format}function isEmailType(t){return"string"===t.type&&t.format&&"email"===t.format}function isUriType(t){return"string"===t.type&&t.format&&"uri"===t.format}var l="millisecond",c="second",u="minute",d="hour",p="day",m="week",f="month",g="quarter",b="year",v="date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},padStart=function(t,e,a){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(a)+t},S={s:padStart,z:function(t){var e=-t.utcOffset(),a=Math.abs(e),s=Math.floor(a/60),n=a%60;return(e<=0?"+":"-")+padStart(s,2,"0")+":"+padStart(n,2,"0")},m:function monthDiff(t,e){if(t.date()<e.date())return-monthDiff(e,t);var a=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(a,f),n=e-s<0,r=t.clone().add(a+(n?-1:1),f);return+(-(a+(e-s)/(n?s-r:r-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:b,w:m,d:p,D:v,h:d,m:u,s:c,ms:l,Q:g}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",_={};_[w]=L;var isDayjs=function(t){return t instanceof k},parseLocale=function(t,e,a){var s;if(!t)return w;if("string"==typeof t)_[t]&&(s=t),e&&(_[t]=e,s=t);else{var n=t.name;_[n]=t,s=n}return!a&&s&&(w=s),s||!a&&w},dayjs=function(t,e){if(isDayjs(t))return t.clone();var a="object"==typeof e?e:{};return a.date=t,a.args=arguments,new k(a)},T=S;T.l=parseLocale,T.i=isDayjs,T.w=function(t,e){return dayjs(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var k=function(){function Dayjs(t){this.$L=parseLocale(t.locale,null,!0),this.parse(t)}var t=Dayjs.prototype;return t.parse=function(t){this.$d=function(t){var e=t.date,a=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match($);if(s){var n=s[2]-1||0,r=(s[7]||"0").substring(0,3);return a?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},t.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},t.$utils=function(){return T},t.isValid=function(){return!("Invalid Date"===this.$d.toString())},t.isSame=function(t,e){var a=dayjs(t);return this.startOf(e)<=a&&a<=this.endOf(e)},t.isAfter=function(t,e){return dayjs(t)<this.startOf(e)},t.isBefore=function(t,e){return this.endOf(e)<dayjs(t)},t.$g=function(t,e,a){return T.u(t)?this[e]:this.set(a,t)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(t,e){var a=this,s=!!T.u(e)||e,n=T.p(t),instanceFactory=function(t,e){var n=T.w(a.$u?Date.UTC(a.$y,e,t):new Date(a.$y,e,t),a);return s?n:n.endOf(p)},instanceFactorySet=function(t,e){return T.w(a.toDate()[t].apply(a.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(e)),a)},r=this.$W,o=this.$M,i=this.$D,l="set"+(this.$u?"UTC":"");switch(n){case b:return s?instanceFactory(1,0):instanceFactory(31,11);case f:return s?instanceFactory(1,o):instanceFactory(0,o+1);case m:var g=this.$locale().weekStart||0,$=(r<g?r+7:r)-g;return instanceFactory(s?i-$:i+(6-$),o);case p:case v:return instanceFactorySet(l+"Hours",0);case d:return instanceFactorySet(l+"Minutes",1);case u:return instanceFactorySet(l+"Seconds",2);case c:return instanceFactorySet(l+"Milliseconds",3);default:return this.clone()}},t.endOf=function(t){return this.startOf(t,!1)},t.$set=function(t,e){var a,s=T.p(t),n="set"+(this.$u?"UTC":""),r=(a={},a[p]=n+"Date",a[v]=n+"Date",a[f]=n+"Month",a[b]=n+"FullYear",a[d]=n+"Hours",a[u]=n+"Minutes",a[c]=n+"Seconds",a[l]=n+"Milliseconds",a)[s],o=s===p?this.$D+(e-this.$W):e;if(s===f||s===b){var i=this.clone().set(v,1);i.$d[r](o),i.init(),this.$d=i.set(v,Math.min(this.$D,i.daysInMonth())).$d}else r&&this.$d[r](o);return this.init(),this},t.set=function(t,e){return this.clone().$set(t,e)},t.get=function(t){return this[T.p(t)]()},t.add=function(t,e){var a,s=this;t=Number(t);var n=T.p(e),instanceFactorySet=function(e){var a=dayjs(s);return T.w(a.date(a.date()+Math.round(e*t)),s)};if(n===f)return this.set(f,this.$M+t);if(n===b)return this.set(b,this.$y+t);if(n===p)return instanceFactorySet(1);if(n===m)return instanceFactorySet(7);var r=(a={},a[u]=6e4,a[d]=36e5,a[c]=1e3,a)[n]||1,o=this.$d.getTime()+t*r;return T.w(o,this)},t.subtract=function(t,e){return this.add(-1*t,e)},t.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var a=t||"YYYY-MM-DDTHH:mm:ssZ",s=T.z(this),n=this.$locale(),r=this.$H,o=this.$m,i=this.$M,l=n.weekdays,c=n.months,getShort=function(t,s,n,r){return t&&(t[s]||t(e,a))||n[s].substr(0,r)},get$H=function(t){return T.s(r%12||12,t,"0")},u=n.meridiem||function(t,e,a){var s=t<12?"AM":"PM";return a?s.toLowerCase():s},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:i+1,MM:T.s(i+1,2,"0"),MMM:getShort(n.monthsShort,i,c,3),MMMM:getShort(c,i),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:getShort(n.weekdaysMin,this.$W,l,2),ddd:getShort(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:T.s(r,2,"0"),h:get$H(1),hh:get$H(2),a:u(r,o,!0),A:u(r,o,!1),m:String(o),mm:T.s(o,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:s};return a.replace(C,(function(t,e){return e||d[t]||s.replace(":","")}))},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(t,e,a){var s,n=T.p(e),r=dayjs(t),o=6e4*(r.utcOffset()-this.utcOffset()),i=this-r,l=T.m(this,r);return l=(s={},s[b]=l/12,s[f]=l,s[g]=l/3,s[m]=(i-o)/6048e5,s[p]=(i-o)/864e5,s[d]=i/36e5,s[u]=i/6e4,s[c]=i/1e3,s)[n]||i,a?l:T.a(l)},t.daysInMonth=function(){return this.endOf(f).$D},t.$locale=function(){return _[this.$L]},t.locale=function(t,e){if(!t)return this.$L;var a=this.clone(),s=parseLocale(t,e,!0);return s&&(a.$L=s),a},t.clone=function(){return T.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},Dayjs}(),E=k.prototype;dayjs.prototype=E,[["$ms",l],["$s",c],["$m",u],["$H",d],["$W",p],["$M",f],["$y",b],["$D",v]].forEach((function(t){E[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),dayjs.extend=function(t,e){return t.$i||(t(e,k,dayjs),t.$i=!0),dayjs},dayjs.locale=parseLocale,dayjs.isDayjs=isDayjs,dayjs.unix=function(t){return dayjs(1e3*t)},dayjs.en=_[w],dayjs.Ls=_,dayjs.p={};var D={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},A=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,M=/\d\d/,I=/\d\d?/,O=/\d*[^\s\d-_:/()]+/,R={};var addInput=function(t){return function(e){this[t]=+e}},P=[/[+-]\d\d:?(\d\d)?/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;var e=t.match(/([+-]|\d\d)/g),a=60*e[1]+(+e[2]||0);return 0===a?0:"+"===e[0]?-a:a}(t)}],getLocalePart=function(t){var e=R[t];return e&&(e.indexOf?e:e.s.concat(e.f))},meridiemMatch=function(t,e){var a,s=R.meridiem;if(s){for(var n=1;n<=24;n+=1)if(t.indexOf(s(n,0,e))>-1){a=n>12;break}}else a=t===(e?"pm":"PM");return a},N={A:[O,function(t){this.afternoon=meridiemMatch(t,!1)}],a:[O,function(t){this.afternoon=meridiemMatch(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[M,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[I,addInput("seconds")],ss:[I,addInput("seconds")],m:[I,addInput("minutes")],mm:[I,addInput("minutes")],H:[I,addInput("hours")],h:[I,addInput("hours")],HH:[I,addInput("hours")],hh:[I,addInput("hours")],D:[I,addInput("day")],DD:[M,addInput("day")],Do:[O,function(t){var e=R.ordinal,a=t.match(/\d+/);if(this.day=a[0],e)for(var s=1;s<=31;s+=1)e(s).replace(/\[|\]/g,"")===t&&(this.day=s)}],M:[I,addInput("month")],MM:[M,addInput("month")],MMM:[O,function(t){var e=getLocalePart("months"),a=(getLocalePart("monthsShort")||e.map((function(t){return t.substr(0,3)}))).indexOf(t)+1;if(a<1)throw new Error;this.month=a%12||a}],MMMM:[O,function(t){var e=getLocalePart("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,addInput("year")],YY:[M,function(t){t=+t,this.year=t+(t>68?1900:2e3)}],YYYY:[/\d{4}/,addInput("year")],Z:P,ZZ:P};function makeParser(t){t=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,a,s){var n=s&&s.toUpperCase();return a||e[s]||D[s]||e[n].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,a){return e||a.slice(1)}))}))}(t,R&&R.formats);for(var e=t.match(A),a=e.length,s=0;s<a;s+=1){var n=e[s],r=N[n],o=r&&r[0],i=r&&r[1];e[s]=i?{regex:o,parser:i}:n.replace(/^\[|\]$/g,"")}return function(t){for(var s={},n=0,r=0;n<a;n+=1){var o=e[n];if("string"==typeof o)r+=o.length;else{var i=o.regex,l=o.parser,c=t.substr(r),u=i.exec(c)[0];l.call(s,u),t=t.replace(u,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var a=t.hours;e?a<12&&(t.hours+=12):12===a&&(t.hours=0),delete t.afternoon}}(s),s}}var index$1=function(t,e,a){a.p.customParseFormat=!0;var s=e.prototype,n=s.parse;s.parse=function(t){var e=t.date,s=t.utc,r=t.args;this.$u=s;var o=r[1];if("string"==typeof o){var i=!0===r[2],l=!0===r[3],c=i||l,u=r[2];l&&(u=r[2]),R=this.$locale(),!i&&u&&(R=a.Ls[u]),this.$d=function(t,e,a){try{var s=makeParser(e)(t),n=s.year,r=s.month,o=s.day,i=s.hours,l=s.minutes,c=s.seconds,u=s.milliseconds,d=s.zone,p=new Date,m=o||(n||r?1:p.getDate()),f=n||p.getFullYear(),g=0;n&&!r||(g=r>0?r-1:p.getMonth());var b=i||0,v=l||0,$=c||0,C=u||0;return d?new Date(Date.UTC(f,g,m,b,v,$,C+60*d.offset*1e3)):a?new Date(Date.UTC(f,g,m,b,v,$,C)):new Date(f,g,m,b,v,$,C)}catch(t){return new Date("")}}(e,o,s),this.init(),u&&!0!==u&&(this.$L=this.locale(u).$L),c&&e!==this.format(o)&&(this.$d=new Date("")),R={}}else if(o instanceof Array)for(var d=o.length,p=1;p<=d;p+=1){r[1]=o[p-1];var m=a.apply(this,r);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}p===d&&(this.$d=new Date(""))}else n.call(this,t)}};function formatDateTime(t,e,a){dayjs.extend(index$1);const s=new Date(t);return a?dayjs(s).format(a):s.toLocaleString(e)}function getValue(t,e,a,s,n,r,o){if(null!==n||void 0!==n&&"actions"===s){const l=t.store.state.locale,c=t.store.state.dateFormat,u=t.store.state.dateTimeFormat;if(isDateTimeType(e))return formatDateTime(n,l,u);if(isDateType(e))return function(t,e,a){dayjs.extend(index$1);const s=new Date(t);return a?dayjs(s).format(a):s.toLocaleDateString(e)}(n,l,c);if(isEmailType(e))return(t=>i`<a href="${`mailto:${t}`}" rel="noopener">${t}</a>`)(n);if(isUriType(e))return(t=>i`<a href="${t}">${t}</a>`)(n);if("number"===e.type&&e.format&&"currency"===e.format)return((t,e,a)=>{let s,n=a;const r=t.store.state.locale;return n||0===n||(n=2),0!==n&&(s={minimumFractionDigits:n,maximumFractionDigits:n}),`${t.store.state.currencySymbol}${Number(e).toLocaleString(r,s)}`})(t,n,e.decimal);if("number"===e.type&&e.decimal&&e.decimal>0)return n.toFixed(e.decimal);if("boolean"===e.type&&e.format&&"checkbox"===e.format)return Checkbox(t,a,s,n,r,e.editable);if("boolean"===e.type&&e.format&&"icon"===e.format)return((t,e)=>{const a=t.store.state.iconIdPrefix,s=t.store.state.booleanIcon.split(",");let n,r;return e?(n=s[0],r="--success"):(n=s[1],r="--danger"),a&&""!==a&&!/#table_/.test(s[0])&&"#"===s[0].substring(0,1)?n=`#${a}${s[0].substring(1)}`:a&&""!==a&&!/#table_/.test(s[0])&&(n=`#${a}${s[0]}`),i`<svg style="${`fill:var(${r})`}" width="18" height="18"><use xlinkHref="${n}" href="${n}"/></svg>`})(t,n);if("boolean"===e.type&&e.format&&"string"===e.format)return n?"Yes":"No";if("array"===e.type&&e.format&&"select"===e.format)return Select(t,a,s,n,r,e.editable);if("string"===e.type&&e.format&&"button"===e.format){let i=n;return"object"!=typeof n||null==n.disabled&&null==n.hidden&&null==n.value||(i={},i[s]=n),Button(t,e,a,s,i,r,o)}return"object"==typeof e&&e.properties?i`<div class="d-flex">${Object.keys(e.properties).map(((s,o)=>getValue(t,e.properties[s],a,s,n,r,o>0?"ml-1":null)))}</div>`:n}return i`<span>`}const Value=(t,e,a,s,n)=>{const r=t.store.state.schema.properties[a];if(t.store.state.cellTemplates&&t.store.state.cellTemplates[a]){const s=t.store.state.cellTemplates[a];return elementFromString("function"==typeof s?s(e):(o=e,s.replace(/{{(\w+)}}/g,((t,e)=>o[e]))))}var o;return getValue(t,r,e,a,s,n)};class H{constructor(){this.classes=[]}addClass(t){return this.classes.push(t),this}build(){return 1===this.classes.length?this.classes[0]:this.classes.join(" ")}}function addClasses(t,e){t.forEach((t=>function(t,e){if(e.classList)e.classList.add(t);else{const a=e.getAttribute("class").split(" ");a.includes(t)||(a.push(t),e.setAttribute("class",a.join(" ")))}return e}(t,e)))}function removeClasses(t,e){t.forEach((t=>function(t,e){if(e.classList)e.classList.remove(t);else{const a=e.getAttribute("class").split(" ");a.splice(a.indexOf(t),1),e.setAttribute("class",a.join(" "))}return e}(t,e)))}h||console.error("h is required");const InlineEditInput=(t,e,a,s,n,r,o)=>i`<input type="${r}" aria-label="Edit value" onchange="${function(t,e,a,s,n){return function(r){callOnBeforeChange(t,e,a,s,n,r.target)}}(t,e,a,s,n)}" onkeydown="${function(t,e,a,s,n,r){return function(r){!function(t){return(t.which||t.keyCode)&&(13===t.which||13===t.keyCode||9===t.which||9===t.keyCode)}(r)?!r.which&&!r.keyCode||27!==r.which&&27!==r.keyCode||toggleInlineEdit(n,!1,r.target):callOnBeforeChange(t,e,a,s,n,r.target,!0)}}(t,e,a,s,n)}" class="inline-cell-edit" ...${o}>`;function toggleInlineEdit(t,e,a,s){const n=["inline-editing","mu-valign-middle"],r=document.getElementById(t),o=r.querySelector("div");if(e){delete r.dataset.invalidText,r.classList.remove("invalid"),r.classList.remove("valid");const e=document.createElement("div");e.classList.add("inline-editing_inner"),e.appendChild(a),r.classList.remove("pr-4");const l=r.getBoundingClientRect();if(r.style.width=`${l.width}px`,r.style.maxWidth=`${l.width}px`,addClasses(n,r),addClasses(["mu-d-none"],o),"checkbox"!==a.type){const n=document.createElement("button");n.classList.add("mcc-button"),n.classList.add("mcc-button--light"),n.setAttribute("aria-label","Cancel"),n.appendChild(i`<span><svg style="fill:var(--secondary)" width="18" height="18"><use xlinkHref="#table_inline_cancel" href="#table_inline_cancel"/></svg></span>`),e.appendChild(n),n.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),toggleInlineEdit(t,!1,a,s)}))}"checkbox"===a.type?a.checked=s:a.value=s,r.appendChild(e),setTimeout((()=>{a.focus(),a.select()}),100)}else{removeClasses(n,r),removeClasses(["mu-d-none"],o);const t=r.querySelector(".inline-editing_inner");r.querySelector("button")&&t.removeChild(r.querySelector("button")),r.removeChild(t),r.style.width=null}}function setInlineEditInvalid(t,e){const a=document.getElementById(t);a.classList.add("invalid"),a.dataset.invalidText=e}function replaceRow(t,e){const a=function(t,e){if(t.store.state.filteredTotalCount>-1){const a=t.store.state.filteredCache[e].cacheIndex;return t.store.state.cache[a].row}return t.store.state.cache[e].row}(t,getRowIndex(t,e));!function(t,e,a){if(Array.isArray(t))for(let s=0;s<t.length;s++)a.replaceChild(t[s],e[s]);else a.replaceChild(t,e)}(a,t.element.querySelector(`#row-${e}`),t.element.querySelector("tbody"))}function getOnCellDoubleClick(t,e,a,s,n,r){const o=InlineEditInput(t,e,a,s,n,function(t){return isDateTimeType(t)?"datetime-local":isDateType(t)?"date":isNumberType(t)?"number":isEmailType(t)?"email":isUriType(t)?"url":isBooleanType(t)?"checkbox":"text"}(r),function(t){if(isNumberType(t)&&t.decimal&&t.decimal>0)return{step:"0.01"}}(r));return function(){(function(t){return document.getElementById(t).classList.contains("inline-editing")})(n)||function(t){return document.getElementById(t).parentNode.classList.contains("disabled")}(n)||toggleInlineEdit(n,!0,o,function(t,e,a){const s=t.store.state.locale;return isDateTimeType(e)?formatDateTime(a,s,"YYYY-MM-DDTHH:mm"):isDateType(e)?formatDateTime(a,s,"YYYY-MM-DD"):isNumberType(e)&&e.decimal&&e.decimal>0?Number(a).toLocaleString(s,{minimumFractionDigits:e.decimal,maximumFractionDigits:e.decimal}):a}(t,r,e[a]))}}function doneEditing(t,e,a,s,n,r,o,i){!function(t,e,a,s,n,r,o){const i=t.store.state.onAction,l=getRowIndex(t,a);i?i(t.table,"inlineEdit",[{index:l,rowData:o,value:n}]):setRowData(t,l,o,!1)}(t,0,a,0,n,0,o),i&&replaceRow(t,a)}function callOnBeforeChange(t,e,a,s,n,r,o=!1){const i=t.store.state.onBeforeChange,l=function(t,e,a){const s=t.store.state.schema.properties[e];return isNumberType(s)?Number(a.value):isBooleanType(s)?a.checked:a.value}(t,a,r),c={...e,[a]:l};if(i){const r={...e},d=i(t.table,a,l,r,c);"object"!=typeof(u=d)&&"function"!=typeof u||"function"!=typeof u.then?d&&"string"==typeof d?setInlineEditInvalid(n,d):doneEditing(t,0,s,0,l,0,c,o):d.then((e=>{e&&"string"==typeof e?setInlineEditInvalid(n,e):doneEditing(t,0,s,0,l,0,c,o)})).catch((t=>{setInlineEditInvalid(n,t.message)}))}else doneEditing(t,0,s,0,l,0,c,o);var u}function getBtnClick(t,e){return function(a){if("filter"===e){a.preventDefault(),a.stopPropagation();const e=t.element.querySelector(t.store.state.focusElement).closest(".data-table__column-popup");e&&e.classList.contains("d-none")&&(t.element.querySelector(t.store.state.focusElement).closest(".data-table__column-actions").querySelector("button").click(),t.element.querySelector(t.store.state.focusElement).focus(),t.element.querySelector(t.store.state.focusElement).value="")}else t.store.state.onAddRecord(t.table)}}const EmptyTableRow=(t,e,a,s,n={})=>!s||s.toString().includes("Loading")||s.toString().includes("No records to show 1")?i`<tr>
        <td colspan=${e} ...${n}>
        ${elementFromString(s)}
        </td>
      </tr>`:t.store.state.totalCount>0?i`<tr>
          <td colspan=${e} ...${n} class='mcc-table-empty-record'>
            <div class='mc-table-no-records'>
              <svg class='icon mr-0 mu-fill-warning' width='72' height='72'>
                <use xlinkHref='#table_nothing_found' href='#table_nothing_found' />
              </svg>
              <h3>${t.store.state.emptyStatusFilter.title}</h3>
              <p>${t.store.state.emptyStatusFilter.subTitle}</p>
              <button type='button' name='searchAgain' class='btn btn-warning mc-btn__button mc-btn__button--warning' onclick=${getBtnClick(t,"filter")}>${t.store.state.emptyStatusFilter.buttonText}</button>
            </div>
          </td>
        </tr>`:t.store.state.isTask?i`
        <tr>
          <td colspan=${e} ...${n} class='mcc-table-empty-record'>
            <div class='mc-table-no-records'>
              <svg class='icon mr-0 mu-fill-success' width='72' height='72'>
                <use xlinkHref='#table_empty_status_task' href='#table_empty_status_task' />
              </svg>
              <h3>${t.store.state.emptyStatusTask.title}</h3>
              ${t.store.state.onAddRecord?i`<div> <p>${t.store.state.emptyStatusTask.subTitle}</p> <button type='button' class='btn btn-success mc-btn__button mc-btn__button--success' onclick={getBtnClick(tableContext, 'task')}>${t.store.state.emptyStatusTask.buttonText}</button></div>`:""}
            </div>
          </td>
        </tr>`:i`<tr>
          <td colspan=${e} ...${n} class='mcc-table-empty-record'>
            <div class='mc-table-no-records'>
              <svg class='icon mr-0 mu-fill-info' width='72' height='72'>
                <use xlinkHref='#table_empty_status_no_records' href='#table_empty_status_no_records' />
              </svg>
              <h3>${t.store.state.emptyStatusRecords.title}</h3>
              ${t.store.state.onAddRecord?i`<div> <p>${t.store.state.emptyStatusRecords.subTitle}</p> <button type='button' class='btn btn-info mc-btn__button mc-btn__button--info' onclick=${getBtnClick(t,"records")}>${t.store.state.emptyStatusRecords.buttonText}</button></div>`:""}
            </div>
          </td>
        </tr>`;function hasChildRow(t){return t.childTable&&"function"==typeof t.childTable}function toggleChildTable(t,e){const a=t.state.cache[e].row;if(Array.isArray(a)){const t=a[0].querySelector(".cell-collapse button");t&&t.click()}}function isExpanded(t,e){const a=t.state.cache[e].row;if(Array.isArray(a)){return"true"===a[0].querySelector(".cell-collapse button").getAttribute("aria-expanded")}return!1}const q={checkbox:"mu-text-center"};function filteredHeaders(t){return Object.keys(t.store.state.schema.properties).filter((e=>!isSchema(e,t.store.state.schema.properties[e])))}const CreateChildTableRow=(t,e,a)=>{if(!hasChildRow(t.store.state))throw new Error("childTable function is required for children data");return EmptyTableRow(t,filteredHeaders(t).length+1,0,t.store.state.loadingTemplate,{id:`collapse-row-${a}`,class:"mu-text-center mu-d-none is-loading"})},TableCell=(t,e,a,s)=>{const n=t.store.state.schema.properties[s],r=(t=>{const e=new H;return e.addClass(t.width?"":"mu-text-nowrap"),t.align&&e.addClass(`text-${t.align}`),t.valign&&e.addClass(`align-${t.valign}`),t.hidden&&e.addClass("mu-d-none"),t.editable&&"checkbox"!==t.format&&e.addClass("cell-editable"),!t.hidden&&e.addClass(q[t.format]),e.build()})(n);if(n.editable&&"checkbox"!==n.format){const o=`cell-${s}-${a}`,l="select"!==n.format;return i`<td class="${r}" data-prop="${s}" id="${o}" ondblclick="${l?getOnCellDoubleClick(t,e,s,a,o,n):null}"><div>${Value(t,e,s,e[s],a)}</div></td>`}return i`<td class="${r}" data-prop="${s}">${Value(t,e,s,e[s],a)}</td>`};function getOnClick$1(t,e,a,s){return function(e){const n=document.getElementById(a);if(n){n.classList.toggle("mu-d-none");const a=e.currentTarget.getAttribute("aria-expanded");e.currentTarget.setAttribute("aria-expanded","true"===a?"false":"true"),n.classList.contains("is-loading")&&function(t,e,a){const s=[e,t.store.state.cache[e].data,a];t.store.state.childTable.apply(null,s)&&removeClasses(["mu-text-center","is-loading"],a)}(t,s,n)}}}const BodyRowWithCollapse=(t,e,a,s,n,r=!1)=>i`<tr id="${`row-${a}`}" class="${e[t.store.state.rowStatusKey]?`mcc-table__row--status-${e[t.store.state.rowStatusKey]}`:""}"><td class="cell-collapse"><button type="button" aria-label="expand/collapse" class="mcc-button mcc-button--secondary mcc-button--sm mcc-button--icon-only" onclick="${getOnClick$1(t,0,s,n)}" aria-expanded="${r}"><svg width="18" height="18"><use href="#table_angle_right" xlinkHref="#table_angle_right"/></svg></button></td>${filteredHeaders(t).map((s=>TableCell(t,e,a,s)))}</tr>`;function isArray(t){return Array.isArray(t)}function isObject(t){return"object"==typeof t&&null!=t.totalCount&&null!=t.data&&isArray(t.data)}function isNumberOrDateSearch(t){return"number"===t.type||t.format&&("date-time"===t.format||"date"===t.format)}function createMatcher(t,e,a){if(isNumberType(e))return function(t){let e=t,a=!1;/^!/.test(e)&&(e=t.substring(1),a=!0);if(/^</.test(e))return e=parseFloat(e.substring(1)),t=>parseFloat(t)<e;if(/^>/.test(e))return e=parseFloat(e.substring(1)),t=>parseFloat(t)>e;if(/\.\.\./.test(t)){const[e,a]=t.split("..."),s=parseFloat(e),n=parseFloat(a);return t=>{const e=parseFloat(t);return e>=s&&e<=n}}/^=/.test(e)&&(e=e.substring(1));return e=parseFloat(e),t=>{const s=parseFloat(t);return a?s!==e:s===e}}(a);if(isBooleanType(e))return function(t){let e=null;e=/^=/.test(t)?!!t.substring(1):!!t;return t=>!!t===e}(a);if(isDateType(e)){return createDateQueryMatcher(a,t.state.dateFormat?t.state.dateFormat:"DD/MM/YYYY")}if(isDateTimeType(e)){return createDateQueryMatcher(a,t.state.dateTimeFormat?t.state.dateTimeFormat:"DD/MM/YYYY HH:mm")}return"string"===e.type?createStringQueryMatcher(a,t.state.columnSearchCaseSensitive):createDefaultQueryMatcher(a)}function parseQuery(t,e){const a={},s=[];if(/___/.test(e)){const[s,n]=e.split("___"),r=t.state.schema.properties[s];a[s]=createMatcher(t,r,n)}else s.push(e);return s.length>0&&(a["*"]=createStringQueryMatcher(s.join(" "))),e=>{let s=!1;return Object.keys(e).forEach((n=>{if(s)return s;if(a[n]){const t=e[n];s=a[n](t)}else if(!a[n]&&a["*"]){const r=t.state.schema.properties[n]?e[n]:null,o=t.state.schema.properties[n]&&t.state.schema.properties[n].hidden;s=a["*"](r)&&!o}})),s}}function createStringQueryMatcher(t,e){let a=null,s=t,n=!1;const r=!0===e?"":"i";return/^!/.test(s)&&(s=t.substring(1),n=!0),a=/^~/.test(s)?new RegExp(s.substring(1),r):/^=/.test(s)?new RegExp(`^${s.substring(1)}$`):new RegExp(s,r),t=>n?!a.test(t):a.test(t)}function parseDate$1(t,e){const a=dayjs(t),s=dayjs(a).format(e);return dayjs(s,e)}function createDateQueryMatcher(t,e){dayjs.extend(index$1);const a=createDefaultQueryMatcher(t);if(!e)return a;let s=t,n=!1;if(/^!/.test(s)&&(s=t.substring(1),n=!0),/\.\.\./.test(s)){const[t,n]=s.split("...");try{const a=dayjs(t,e),s=dayjs(n,e);return t=>{const n=parseDate$1(t,e);return n.valueOf()>=a.valueOf()&&n.valueOf()<=s.valueOf()}}catch(t){return console.error(t),a}}else if(/^>/.test(s))try{const t=dayjs(s.substring(1),e);return a=>parseDate$1(a,e).valueOf()>t.valueOf()}catch(t){return console.error(t),a}else if(/^</.test(s))try{const t=dayjs(s.substring(1),e);return a=>parseDate$1(a,e).valueOf()<t.valueOf()}catch(t){return console.error(t),a}else/^=/.test(s)&&(s=s.substring(1));try{const t=dayjs(s,e);return a=>{const s=parseDate$1(a,e);return n?s.valueOf()!==t.valueOf():s.valueOf()===t.valueOf()}}catch(t){return console.error(t),a}}function createDefaultQueryMatcher(t){return e=>e===t}const debounce=(t,e)=>{let a;return function(){const functionCall=()=>t.apply(this,arguments);clearTimeout(a),a=setTimeout(functionCall,e)}};function performSearch(t){!function(t){const e=t.store;let a=e.state.searchColumns;a&&0===Object.keys(a).length&&(a=null);e.setState({cache:{},totalCount:0,pageIndex:0,firstVisiblePageIndex:0,searchColumns:a,displayedEntriesRendered:!1,paginationRendered:!1},!1),loadData(t)}(t)}class j{constructor(t,e=!0,a=[],s=5e3){this.ctx=t,this.iframes=e,this.exclude=a,this.iframesTimeout=s}static matches(t,e){const a="string"==typeof e?[e]:e,s=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(s){let e=!1;return a.every((a=>!s.call(t,a)||(e=!0,!1))),e}return!1}getContexts(){let t,e=[];return t=void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[],t.forEach((t=>{const a=e.filter((e=>e.contains(t))).length>0;-1!==e.indexOf(t)||a||e.push(t)})),e}getIframeContents(t,e,a=(()=>{})){let s;try{const e=t.contentWindow;if(s=e.document,!e||!s)throw new Error("iframe inaccessible")}catch(t){a()}s&&e(s)}isIframeBlank(t){const e="about:blank",a=t.getAttribute("src").trim();return t.contentWindow.location.href===e&&a!==e&&a}observeIframeLoad(t,e,a){let s=!1,n=null;const listener=()=>{if(!s){s=!0,clearTimeout(n);try{this.isIframeBlank(t)||(t.removeEventListener("load",listener),this.getIframeContents(t,e,a))}catch(t){a()}}};t.addEventListener("load",listener),n=setTimeout(listener,this.iframesTimeout)}onIframeReady(t,e,a){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,a):this.getIframeContents(t,e,a):this.observeIframeLoad(t,e,a)}catch(t){a()}}waitForIframes(t,e){let a=0;this.forEachIframe(t,(()=>!0),(t=>{a++,this.waitForIframes(t.querySelector("html"),(()=>{--a||e()}))}),(t=>{t||e()}))}forEachIframe(t,e,a,s=(()=>{})){let n=t.querySelectorAll("iframe"),r=n.length,o=0;n=Array.prototype.slice.call(n);const checkEnd=()=>{--r<=0&&s(o)};r||checkEnd(),n.forEach((t=>{j.matches(t,this.exclude)?checkEnd():this.onIframeReady(t,(s=>{e(t)&&(o++,a(s)),checkEnd()}),checkEnd)}))}createIterator(t,e,a){return document.createNodeIterator(t,e,a,!1)}createInstanceOnIframe(t){return new j(t.querySelector("html"),this.iframes)}compareNodeIframe(t,e,a){if(t.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}getIteratorNode(t){const e=t.previousNode();let a;return a=(null===e||t.nextNode())&&t.nextNode(),{prevNode:e,node:a}}checkIframeFilter(t,e,a,s){let n=!1,r=!1;return s.forEach(((t,e)=>{t.val===a&&(n=e,r=t.handled)})),this.compareNodeIframe(t,e,a)?(!1!==n||r?!1===n||r||(s[n].handled=!0):s.push({val:a,handled:!0}),!0):(!1===n&&s.push({val:a,handled:!1}),!1)}handleOpenIframes(t,e,a,s){t.forEach((t=>{t.handled||this.getIframeContents(t.val,(t=>{this.createInstanceOnIframe(t).forEachNode(e,a,s)}))}))}iterateThroughNodes(t,e,a,s,n){const r=this.createIterator(e,t,s);let o,i,l=[],c=[],retrieveNodes=()=>(({prevNode:i,node:o}=this.getIteratorNode(r)),o);for(;retrieveNodes();)this.iframes&&this.forEachIframe(e,(t=>this.checkIframeFilter(o,i,t,l)),(e=>{this.createInstanceOnIframe(e).forEachNode(t,(t=>c.push(t)),s)})),c.push(o);c.forEach((t=>{a(t)})),this.iframes&&this.handleOpenIframes(l,t,a,s),n()}forEachNode(t,e,a,s=(()=>{})){const n=this.getContexts();let r=n.length;r||s(),n.forEach((n=>{const ready=()=>{this.iterateThroughNodes(t,n,e,a,(()=>{--r<=0&&s()}))};this.iframes?this.waitForIframes(n,ready):ready()}))}}class F{constructor(t){this.ctx=t,this.ie=!1;const e=window.navigator.userAgent;(e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1)&&(this.ie=!0)}set opt(t){this._opt=Object.assign({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:()=>{},noMatch:()=>{},filter:()=>!0,done:()=>{},debug:!1,log:window.console},t)}get opt(){return this._opt}get iterator(){return new j(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}log(t,e="debug"){const a=this.opt.log;this.opt.debug&&"object"==typeof a&&"function"==typeof a[e]&&a[e](`mark.js: ${t}`)}escapeStr(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}createRegExp(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t)}createSynonymsRegExp(t){const e=this.opt.synonyms,a=this.opt.caseSensitive?"":"i",s=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(let n in e)if(e.hasOwnProperty(n)){const r=e[n],o="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(n):this.escapeStr(n),i="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(r):this.escapeStr(r);""!==o&&""!==i&&(t=t.replace(new RegExp(`(${this.escapeStr(o)}|${this.escapeStr(i)})`,`gm${a}`),s+`(${this.processSynomyms(o)}|`+`${this.processSynomyms(i)})`+s))}return t}processSynomyms(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}setupWildcardsRegExp(t){return(t=t.replace(/(?:\\)*\?/g,(t=>"\\"===t.charAt(0)?"?":""))).replace(/(?:\\)*\*/g,(t=>"\\"===t.charAt(0)?"*":""))}createWildcardsRegExp(t){let e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}setupIgnoreJoinersRegExp(t){return t.replace(/[^(|)\\]/g,((t,e,a)=>{let s=a.charAt(e+1);return/[(|)\\]/.test(s)||""===s?t:t+"\0"}))}createJoinersRegExp(t){let e=[];const a=this.opt.ignorePunctuation;return Array.isArray(a)&&a.length&&e.push(this.escapeStr(a.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join(`[${e.join("")}]*`):t}createDiacriticsRegExp(t){const e=this.opt.caseSensitive?"":"i",a=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"];let s=[];return t.split("").forEach((n=>{a.every((a=>{if(-1!==a.indexOf(n)){if(s.indexOf(a)>-1)return!1;t=t.replace(new RegExp(`[${a}]`,`gm${e}`),`[${a}]`),s.push(a)}return!0}))})),t}createMergedBlanksRegExp(t){return t.replace(/[\s]+/gim,"[\\s]+")}createAccuracyRegExp(t){let e=this.opt.accuracy,a="string"==typeof e?e:e.value,s="string"==typeof e?[]:e.limiters,n="";switch(s.forEach((t=>{n+=`|${this.escapeStr(t)}`})),a){default:return`()(${t})`;case"complementary":return n="\\s"+(n||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")),`()([^${n}]*${t}[^${n}]*)`;case"exactly":return`(^|\\s${n})(${t})(?=$|\\s${n})`}}getSeparatedKeywords(t){let e=[];return t.forEach((t=>{this.opt.separateWordSearch?t.split(" ").forEach((t=>{t.trim()&&-1===e.indexOf(t)&&e.push(t)})):t.trim()&&-1===e.indexOf(t)&&e.push(t)})),{keywords:e.sort(((t,e)=>e.length-t.length)),length:e.length}}isNumeric(t){return Number(parseFloat(t))==t}checkRanges(t){if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];const e=[];let a=0;return t.sort(((t,e)=>t.start-e.start)).forEach((t=>{let{start:s,end:n,valid:r}=this.callNoMatchOnInvalidRanges(t,a);r&&(t.start=s,t.length=n-s,e.push(t),a=n)})),e}callNoMatchOnInvalidRanges(t,e){let a,s,n=!1;return t&&void 0!==t.start?(a=parseInt(t.start,10),s=a+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&s-e>0&&s-a>0?n=!0:(this.log(`Ignoring invalid or overlapping range: ${JSON.stringify(t)}`),this.opt.noMatch(t))):(this.log(`Ignoring invalid range: ${JSON.stringify(t)}`),this.opt.noMatch(t)),{start:a,end:s,valid:n}}checkWhitespaceRanges(t,e,a){let s,n=!0,r=a.length,o=e-r,i=parseInt(t.start,10)-o;return i=i>r?r:i,s=i+parseInt(t.length,10),s>r&&(s=r,this.log(`End range automatically set to the max value of ${r}`)),i<0||s-i<0||i>r||s>r?(n=!1,this.log(`Invalid range: ${JSON.stringify(t)}`),this.opt.noMatch(t)):""===a.substring(i,s).replace(/\s+/g,"")&&(n=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:i,end:s,valid:n}}getTextNodes(t){let e="",a=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(t=>{a.push({start:e.length,end:(e+=t.textContent).length,node:t})}),(t=>this.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT),(()=>{t({value:e,nodes:a})}))}matchesExclude(t){return j.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}wrapRangeInTextNode(t,e,a){const s=this.opt.element?this.opt.element:"mark",n=t.splitText(e),r=n.splitText(a-e);let o=document.createElement(s);return o.setAttribute("data-markjs","true"),this.opt.className&&o.setAttribute("class",this.opt.className),o.textContent=n.textContent,n.parentNode.replaceChild(o,n),r}wrapRangeInMappedTextNode(t,e,a,s,n){t.nodes.every(((r,o)=>{const i=t.nodes[o+1];if(void 0===i||i.start>e){if(!s(r.node))return!1;const i=e-r.start,l=(a>r.end?r.end:a)-r.start,c=t.value.substr(0,r.start),u=t.value.substr(l+r.start);if(r.node=this.wrapRangeInTextNode(r.node,i,l),t.value=c+u,t.nodes.forEach(((e,a)=>{a>=o&&(t.nodes[a].start>0&&a!==o&&(t.nodes[a].start-=l),t.nodes[a].end-=l)})),a-=l,n(r.node.previousSibling,r.start),!(a>r.end))return!1;e=r.end}return!0}))}wrapMatches(t,e,a,s,n){const r=0===e?0:e+1;this.getTextNodes((e=>{e.nodes.forEach((e=>{let n;for(e=e.node;null!==(n=t.exec(e.textContent))&&""!==n[r];){if(!a(n[r],e))continue;let o=n.index;if(0!==r)for(let t=1;t<r;t++)o+=n[t].length;e=this.wrapRangeInTextNode(e,o,o+n[r].length),s(e.previousSibling),t.lastIndex=0}})),n()}))}wrapMatchesAcrossElements(t,e,a,s,n){const r=0===e?0:e+1;this.getTextNodes((e=>{let o;for(;null!==(o=t.exec(e.value))&&""!==o[r];){let n=o.index;if(0!==r)for(let t=1;t<r;t++)n+=o[t].length;const i=n+o[r].length;this.wrapRangeInMappedTextNode(e,n,i,(t=>a(o[r],t)),((e,a)=>{t.lastIndex=a,s(e)}))}n()}))}wrapRangeFromIndex(t,e,a,s){this.getTextNodes((n=>{const r=n.value.length;t.forEach(((t,s)=>{let{start:o,end:i,valid:l}=this.checkWhitespaceRanges(t,r,n.value);l&&this.wrapRangeInMappedTextNode(n,o,i,(a=>e(a,t,n.value.substring(o,i),s)),(e=>{a(e,t)}))})),s()}))}unwrapMatches(t){const e=t.parentNode;let a=document.createDocumentFragment();for(;t.firstChild;)a.appendChild(t.removeChild(t.firstChild));e.replaceChild(a,t),this.ie?this.normalizeTextNode(e):e.normalize()}normalizeTextNode(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}markRegExp(t,e){this.opt=e,this.log(`Searching with expression "${t}"`);let a=0,s="wrapMatches";this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),this[s](t,this.opt.ignoreGroups,((t,e)=>this.opt.filter(e,t,a)),(t=>{a++,this.opt.each(t)}),(()=>{0===a&&this.opt.noMatch(t),this.opt.done(a)}))}mark(t,e){this.opt=e;let a=0,s="wrapMatches";const{keywords:n,length:r}=this.getSeparatedKeywords("string"==typeof t?[t]:t),o=this.opt.caseSensitive?"":"i",handler=t=>{let e=new RegExp(this.createRegExp(t),`gm${o}`),i=0;this.log(`Searching with expression "${e}"`),this[s](e,1,((e,s)=>this.opt.filter(s,t,a,i)),(t=>{i++,a++,this.opt.each(t)}),(()=>{0===i&&this.opt.noMatch(t),n[r-1]===t?this.opt.done(a):handler(n[n.indexOf(t)+1])}))};this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),0===r?this.opt.done(a):handler(n[0])}markRanges(t,e){this.opt=e;let a=0,s=this.checkRanges(t);s&&s.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(s)),this.wrapRangeFromIndex(s,((t,e,a,s)=>this.opt.filter(t,e,a,s)),((t,e)=>{a++,this.opt.each(t,e)}),(()=>{this.opt.done(a)}))):this.opt.done(a)}unmark(t){this.opt=t;let e=this.opt.element?this.opt.element:"*";e+="[data-markjs]",this.opt.className&&(e+=`.${this.opt.className}`),this.log(`Removal selector "${e}"`),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(t=>{this.unwrapMatches(t)}),(t=>{const a=j.matches(t,e),s=this.matchesExclude(t);return!a||s?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}}function Mark(t){const e=new F(t);return this.mark=(t,a)=>(e.mark(t,a),this),this.markRegExp=(t,a)=>(e.markRegExp(t,a),this),this.markRanges=(t,a)=>(e.markRanges(t,a),this),this.unmark=t=>(e.unmark(t),this),this}function highlight(t,e){const a=new Mark(t);a.unmark(),a.mark(e,{className:"highlight"})}function unhighlightRows(t){t.state.filteredTotalCount>-1&&t.state.filteredCache&&(t.state.columnSearchHighlight||t.state.fullTextSearchHighlight)&&Object.keys(t.state.filteredCache).forEach((e=>{new Mark(t.state.filteredCache[e].row).unmark()}))}function getSearchColumns(t){if(!t.store.state.searchColumns)return;const e=Object.keys(t.store.state.searchColumns),a={};return e.forEach((e=>{a[e]=t.store.state.searchColumns[e].query})),a}function onFilterEvent(t){t.store.state.onFilter&&t.store.state.onFilter(t.table,t.store.state.fullTextQuery,getSearchColumns(t))}function normaliseQuery(t){return t.includes("*")?t.replace("*",".*"):/[`!#$%^&()+=[\]{};'"\\|<>?~]/.test(t)?"invalid query":t}function filter(t){if(null==t.state.searchColumns||0===Object.keys(t.state.searchColumns).length)t.setState({...t.getResetState(),sortHeader:t.state.sortHeader,sortDirection:t.state.sortDirection});else{const{filteredCache:e,filteredTotalCount:a}=columnSearchInCache(t.state.searchColumns,t.state.cache);t.setState({...t.getResetState(),focusElement:t.state.focusElement,searchColumns:t.state.searchColumns,filteredCache:e,filteredTotalCount:a,sortHeader:t.state.sortHeader,sortDirection:t.state.sortDirection})}}class z{constructor(t){this.cache=t,this.runCache={},this.criteria=[]}addCriteria(t,e){return 0===this.criteria.length?Object.keys(this.cache).forEach((a=>{const s={...this.cache[a],cacheIndex:a};e(s.data[t])&&(this.runCache[a]=s)})):Object.keys(this.runCache).forEach((a=>{const s={...this.runCache[a]};e(s.data[t])||delete this.runCache[a]})),this.criteria.push({key:t,matcher:e}),this}search(){const t={};let e=0;return Object.keys(this.runCache).forEach((a=>{t[e]={...this.runCache[a]},e++})),{filteredCache:t,filteredTotalCount:Object.keys(t).length}}}function mapExternalSearchColumns(t){if(!t)return;const e={};return Object.keys(t).forEach((a=>{e[a]=t[a].query})),e}function columnSearchInCache(t,e){let a=new z(e);return Object.keys(t).forEach((e=>{a=a.addCriteria(e,t[e].matcher)})),a.search()}function getRange(t){const e=0===t.state.pageIndex?0:t.state.pageIndex*t.state.pageSize;let a=t.state.pageSize,s=e+a;return t.state.filteredTotalCount>-1&&t.state.filteredTotalCount<=t.state.pageSize?(a=t.state.filteredTotalCount,s>t.state.filteredTotalCount&&(s=t.state.filteredTotalCount)):t.state.filteredTotalCount>-1&&s>t.state.filteredTotalCount?s=t.state.filteredTotalCount:0!==t.state.totalCount&&t.state.totalCount<=t.state.pageSize?(a=t.state.totalCount,s>t.state.totalCount&&(s=t.state.totalCount)):0!==t.state.totalCount&&s>t.state.totalCount&&(a=t.state.totalCount,s=t.state.totalCount),{start:e,end:s,limit:a}}function createRow(t,e,a,s){let n;return a||(a=generateId()),n=hasChildRow(t.store.state)?function(t,e,a,s,n){return[BodyRowWithCollapse(t,e,a,`collapse-row-${a}`,s,n),CreateChildTableRow(t,0,a)]}(t,e,a,s,!1):((t,e,a)=>i`<tr id="${`row-${a}`}" class="${e[t.store.state.rowStatusKey]?`mcc-table__row--status-${e[t.store.state.rowStatusKey]}`:""}">${filteredHeaders(t).map((s=>TableCell(t,e,a,s)))}</tr>`)(t,e,a),{id:a,data:e,row:n,created:Date.now()}}function loadData(t,e=!0,a="next"){const{start:s,limit:n}=getRange(t.store);if(t.store.state.cursorPagination){let r=[];t.store.state.pageLinks&&"next"===a&&(r=[t.store.state.pageLinks.nextCursor,t.store.state.pageSize]),t.store.state.pageLinks&&"prev"===a&&(r=[t.store.state.pageLinks.previousCursor,t.store.state.pageSize]),t.store.state.currentDataArgs=r;t.store.state.data.apply(null,r).then((a=>cacheData(t,s,n,a,e)))}else{if(hasRows(t.store))return void(e&&t.store.state.onPageChange&&"function"==typeof t.store.state.onPageChange&&t.store.state.onPageChange(t.table,s,n));const a=[s,n,t.store.state.sortHeader,t.store.state.sortDirection,t.store.state.fullTextQuery,mapExternalSearchColumns(t.store.state.searchColumns)],r=t.store.state.data.apply(null,a);"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then?cacheData(t,s,n,r,e):r.then((a=>cacheData(t,s,n,a,e)))}}function cacheData(t,e,a,s,n){if(t.store.state.cursorPagination&&(!s.pagination||!s.data))throw new Error("Invalid cursor data!");if(!isArray(r=t.store.state.cursorPagination?s.data:s)&&!isObject(r))throw new Error("Invalid data!");var r;let o,i;t.store.state.cursorPagination?(o=s.data,i=s.data.length,t.store.state.pageLinks=s.pagination):isObject(s)&&s.totalCount&&s.data?(o=s.data,i=s.totalCount):(o=s,i=t.store.state.totalCount),-1===t.store.state.firstTotalCount&&(t.store.state.firstTotalCount=i);const l={};let c,u=e;for(let e=0;e<o.length;e++){const a=o[e];l[u]=createRow(t,a,null,u),++u}c=t.store.state.cursorPagination&&o.length<parseInt(t.store.state.pageLinks.limit)?{...l}:{...t.store.state.cache,...l},t.store.setState({totalCount:i,cache:c},!0,(()=>{n&&t.store.state.onPageChange&&"function"==typeof t.store.state.onPageChange&&t.store.state.onPageChange(t.table,e,a),t.store.state.onAfterDataLoad&&"function"==typeof t.store.state.onAfterDataLoad&&t.store.state.onAfterDataLoad(t.table,e,a)}))}function setRowData(t,e,a,s=!0){let n;if(t.store.state.filteredTotalCount>-1){const r=t.store.state.filteredCache[e].cacheIndex,o=t.store.state.cache[r];n={...o,...createRow(t,a,o.id,r)};const i={...t.store.state.cache},l={...t.store.state.filteredCache};i[r]=n,l[e]=n,t.store.setState({cache:i,filteredCache:l},s)}else{const r=t.store.state.cache[e];n={...r,...createRow(t,a,r.id,e)};const o={...t.store.state.cache};o[e]=n,t.store.setState({cache:o},s)}}function hasRows(t){!function(t){if(t.state.ttl>-1){const e=[];Object.keys(t.state.cache).forEach((a=>{Date.now()-t.state.cache[a].created>t.state.ttl&&e.push(a)})),e.length>0&&e.forEach((e=>delete t.state.cache[e]))}}(t);const{start:e,end:a}=getRange(t),s=a-e;let n=0;for(let s=e;s<a;s++)(t.state.filteredTotalCount>-1&&t.state.filteredCache[s]&&t.state.filteredCache[s].data&&t.state.filteredCache[s].row||t.state.cache[s]&&t.state.cache[s].data&&t.state.cache[s].row)&&++n;return n>0&&s===n}function sortData(t){const e=t.store;if(Object.keys(e.state.cache).length===e.state.totalCount&&-1===e.state.ttl||t.store.state.cursorPagination){let t,a="cache";e.state.filteredTotalCount>-1?(a="filteredCache",t=Object.values(e.state.filteredCache)):t=Object.values(e.state.cache),t.sort(function(t,e,a,s=1){return function(n,r){return e.format&&/date-?/.test(e.format)?-1===s?new Date(r.data[t])-new Date(n.data[t]):new Date(n.data[t])-new Date(r.data[t]):"number"===e.type?-1===s?r.data[t]-n.data[t]:n.data[t]-r.data[t]:(null!=n.data[t]&&null!=r.data[t]||function(t,e,a){if(null==t.data[a])return t.data[a]="",t.data[a];null==e.data[a]&&(e.data[a]="",e.data[a])}(n,r,t),-1===s?r.data[t].toString().localeCompare(n.data[t].toString(),a,{ignorePunctuation:!0}):n.data[t].toString().localeCompare(r.data[t].toString(),a,{ignorePunctuation:!0}))}}(e.state.sortHeader,e.state.schema.properties[e.state.sortHeader],e.state.locale,"desc"===e.state.sortDirection?-1:1));const s={};for(let e=0;e<t.length;e++)s[e]=t[e];const n={};n[a]=s,e.setState(n)}else e.setState({cache:{},totalCount:e.state.totalCount,pageIndex:0},!1),loadData(t);t.store.state.onSort&&t.store.state.onSort(t.table,e.state.sortDirection,e.state.sortHeader)}function enableRowActions(t,e,a){["button","select","input[type=checkbox]"].forEach((s=>{const n=t.state.cache[e].row;let r;Array.isArray(n)?(n[0].classList[a?"remove":"add"]("disabled"),r=n[0].querySelectorAll(s)):(n.classList[a?"remove":"add"]("disabled"),r=n.querySelectorAll(s));for(let t=0;t<r.length;++t)r[t].hasAttribute("aria-expanded")||(a?r[t].removeAttribute("disabled"):r[t].setAttribute("disabled","disabled"))}))}function fullTextSearchInCache(t,e){const a={};let s=0;return Object.keys(e).forEach((n=>{const r={...e[n],cacheIndex:n};t(r.data)&&(a[s]=r,s++)})),{filteredCache:a,filteredTotalCount:Object.keys(a).length}}function numberWithCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function elementEmpty(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)}function getOnSelectAllCheckboxes(t){return function(e,a){!function(t,e,a){const s=t.store,n=[],{start:r,end:o}=getRange(s);for(let t=r;t<o;t++)n.push(s.state.filteredTotalCount>-1?{index:t,data:s.state.filteredCache[t]}:{index:t,data:s.state.cache[t]});if(Object.keys(s.state.schema.properties).indexOf(e)>-1){const s=[];n.forEach((t=>{const n=t.data.row;let r;r=Array.isArray(n)?n[0]:n;const o=r.querySelector(`[data-prop="${e}"]`);if(o){const e=o.querySelector('input[type="checkbox"]');if(e){if(e.disabled)return;e.checked=a,s.push({index:t.index,rowData:t.data.data,value:a})}}}));const r=t.store.state.onAction;r&&r(t.table,e,s)}}(t,a,e.target.checked)}}function deselectSelectAllCheckbox(t){const e=t.store.state.schema.properties;Object.keys(e).filter((t=>!isSchema(t,e[t]))).forEach((a=>{const s=e&&e[a]&&"boolean"===e[a].type&&"checkbox"===e[a].format&&e[a].editable,n=t.element.querySelector(`thead th[data-prop="${a}"]`);if(s&&n){const t=n.querySelector('input[type="checkbox"]');t&&(t.checked=!1)}}))}const PaginationList=t=>i`<nav class="mcc-pagination" aria-label="Pagination"><button type="button" class="${"mcc-button mcc-button--secondary mcc-button--sm mcc-button--icon-only "+(t.isTherePreviousPage?"":"mu-is-disabled")}" id="${`previous-link-${t.id}`}" tabindex="${t.isTherePreviousPage?0:-1}"><mcc-icon name="double_left"></mcc-icon></button> ${t.pageIndices.map((e=>i`<button type="button" class="${`${e===t.currentPageIndex?"mu-is-active":""} goto-link-${t.id}`}" data-page-index="${t.pageIndex}" data-goto-page-index="${e}">${e+1}</button>`))} <button type="button" class="${"mcc-button mcc-button--secondary mcc-button--sm mcc-button--icon-only "+(t.isThereNextPage?"":"mu-is-disabled")}" id="${`next-link-${t.id}`}" tabindex="${t.isThereNextPage?0:-1}"><mcc-icon name="double_right"></mcc-icon></button></nav>`,PaginationInfo=t=>i`<span>${t.info}</span>`;function getPaginationState(t){const e=t.filteredTotalCount>-1?t.filteredTotalCount:t.totalCount;return{id:t.id,info:getInfo(t.pageSize,t.pageIndex,e),pageIndex:t.pageIndex,isTherePreviousPage:isTherePreviousPage(t),isThereNextPage:isThereNextPage(t),pageIndices:getPageIndices(t.firstVisiblePageIndex,getPageCount(e,t.pageSize),t.visiblePageCount),currentPageIndex:t.pageIndex}}function getInfo(t,e,a){const s={firstOnPage:0===a?0:e*t+1,lastOnPage:Math.min(a,(e+1)*t),total:a};return`Showing entries ${numberWithCommas(s.firstOnPage)}-${numberWithCommas(s.lastOnPage)} of ${numberWithCommas(s.total)}`}function isTherePreviousPage(t){return t.pageIndex>0}function isThereNextPage(t){const e=t.filteredTotalCount>-1?t.filteredTotalCount:t.totalCount;return t.pageIndex+1<getPageCount(e,t.pageSize)}function getPageCount(t,e){return Math.floor(t/e)+Math.sign(t%e)}function getPageIndices(t,e,a){const s=[],n=a;t>0&&t<e&&s.push(0);let r=t;t>0&&e-1-t<a&&(r=t-(a-(e-1-t)),0===r&&(r=1));for(let t=r;t<e;t++){if(s.length>n){s[s.length-1]<e-1&&s.push(e-1);break}s.push(t)}return s}function setPageIndex(t,e){let a=t.store.state.firstVisiblePageIndex;e<a&&(a=e),e>=a+t.store.state.visiblePageCount&&(a=Math.max(e-t.store.state.visiblePageCount+1,0)),function(t){if(hasChildRow(t.state)){const{start:e,limit:a}=getRange(t);for(let s=e;s<a;s++)isExpanded(t,s)&&toggleChildTable(t,s)}}(t.store),deselectSelectAllCheckbox(t),t.store.setState({pageIndex:e,firstVisiblePageIndex:a}),loadData(t)}function setupEventHandlers(t,e,a){const s=e.querySelector(`#previous-link-${a.id}`),n=e.querySelector(`#next-link-${a.id}`),r=e.querySelectorAll(`.goto-link-${a.id}`);a.isTherePreviousPage&&s.addEventListener("click",function(t){return function(e){e.preventDefault(),e.stopPropagation(),isTherePreviousPage(t.store.state)&&setPageIndex(t,t.store.state.pageIndex-1)}}(t)),a.isThereNextPage&&n.addEventListener("click",function(t){return function(e){e.preventDefault(),e.stopPropagation(),isThereNextPage(t.store.state)&&setPageIndex(t,t.store.state.pageIndex+1)}}(t)),r.forEach((e=>e.addEventListener("click",function(t){return function(e){e.preventDefault(),e.stopPropagation();const a=Number(e.target.dataset.pageIndex),s=Number(e.target.dataset.gotoPageIndex);s!==a&&setPageIndex(t,s)}}(t))))}function createPagination(t){const e=getPaginationState(t.store.state),a=i`<nav aria-label="Table pagination" id="${`pagination-container-${(s=e).id}`}" class="mcc-table__pagination-nav"><div class="mcc-table__pagination-info-with-row-count"><span id="${`pagination-info-${s.id}`}" class="mcc-table__pagination-info-table">${PaginationInfo(s)} </span><span class="mcc-table__pagination-info-displayed-entries"></span></div><div id="${`pagination-list-${s.id}`}" class="mcc-table__pagination-controls">${PaginationList(s)}</div></nav>`;var s;return setupEventHandlers(t,a,e),a}function updatePagination(t){const e=getPaginationState(t.store.state),a=t.element.querySelector(".mcc-table__pagination-nav")?t.element.querySelector(".mcc-table__pagination-nav"):t.element.closest("mcc-applet-card").querySelector(".mcc-table__pagination-nav");if(a){const s=PaginationList(e),n=PaginationInfo(e);setupEventHandlers(t,s,e);const r=a.querySelector(`#pagination-list-${e.id}`);elementEmpty(r),r.classList.remove("mu-d-none"),r.appendChild(s);const o=a.querySelector(`#pagination-info-${e.id}`);elementEmpty(o),o.appendChild(n)}}const Title=(t,e,a,s)=>function(t,e,a,s){const n=e&&e.title||t;let r=e.width;return e.sortable?(r=r?r-45:null,i`<button onclick="${e=>{e.preventDefault(),e.stopPropagation(),s(t,function(t,e){const a=t.closest("th");return a.dataset.prop===e&&a.classList.contains("sort-direction-asc")?"desc":"asc"}(e.currentTarget,t))}}" type="button" class="mcc-table__header-action"><span class="${r?"":"mu-text-nowrap"}" style="width:${r?r+"px":"inherit"}">${n} </span><span class="key mu-d-none">${t}</span></button>`):(r=r?r-25:null,i`<div class="${"mcc-table__title"+(e.noTitle?" mu-d-none":"")}"><span class="${r?"":"mu-text-nowrap"}" style="width:${r?r+"px":"inherit"}">${n}</span> <span class="key mu-d-none">${t}</span></div>`)}(t,e[t],0,s),SelectAllCheckbox=(t,e,a)=>i`<input type="checkbox" aria-label="Select all" class="${a[e].noTitle?"":"mr-1"}" onclick="${a=>t(a,e)}">`;function hideAllPopups(){Array.from(document.querySelectorAll(".mcc-table__column-popup:not(.mu-d-none)")).forEach((t=>t.classList.add("mu-d-none"))),window.clearInterval(window.mosaicDataTableIntervalId)}const ColumnFilter=(t,e,a,s,n,r)=>i`<div class="mcc-table__column-filter mu-d-flex mu-flex-column"><div class="mfc-input-wrapper"><label for="${`operator-${e.id}-${t}`}">Operator</label> <select id="${`operator-${e.id}-${t}`}" onchange="${e=>{e.preventDefault(),e.stopPropagation(),s(t,e)}}" ...${r}><option value="0"><option value="~" disabled="${isNumberOrDateSearch(a)}">Contains</option><option value="!~" disabled="${isNumberOrDateSearch(a)}">Not Contains</option><option value="=">Equals</option><option value="!=">Not equals</option><option value=">">Greater than</option><option value="<">Less than</option><option value="...">Range</option></select></div><div class="mfc-input-wrapper mu-mt-03"><label for="${`input-${e.id}-${t}`}">Query</label> <input type="search" id="${`input-${e.id}-${t}`}" placeholder="${e.placeholder}" oninput="${e=>{e.preventDefault(),e.stopPropagation(),s(t,e)}}" onkeydown="${e=>{s(t,e)}}" ...${r}><div class="mfc-invalid-feedback mu-d-none">Only <strong>*, ., -,/,_ and @ </strong>special character are allowed</div></div><div class="mfc-input-wrapper mu-mt-03"><input type="search" id="${`input-end-${e.id}-${t}`}" aria-label="Search query" class="mu-d-none" placeholder="Range end" oninput="${e=>{e.preventDefault(),e.stopPropagation(),s(t,e)}}" onkeydown="${e=>{s(t,e)}}" ...${r}><div class="mfc-invalid-feedback mu-d-none">Only <strong>*, ., -,/,_ and @ </strong>special character are allowed</div></div><button class="mcc-button mcc-button--secondary mcc-button--sm mu-mt-05" type="button" onclick="${function(t,e,a){return function(s){const n=document.getElementById(`operator-${e.id}-${t}`),r=document.getElementById(`input-${e.id}-${t}`),o=document.getElementById(`input-end-${e.id}-${t}`);n&&(n.value=n.defaultValue),r&&(r.value=r.defaultValue),o&&(o.value=o.defaultValue),a(t,s)}}(t,e,s)}"><span class="mcc-button__label">Reset filter</span></button></div>`;function windowColumnActionClickHandler(t){t.removeAttribute("style"),hideAllPopups(),window.removeEventListener("click",windowColumnActionClickHandler)}const ColumnActions=(t,e,a,s,n,r,o={},l={})=>i`<div class="mcc-table__column-actions"><button type="button" class="mcc-table__header-action" tabindex="-1" onclick="${t=>{t.preventDefault(),t.stopPropagation();const e=t.currentTarget,a=e.closest("table").parentElement,s=e.nextElementSibling;if(s.onclick=t=>t.stopPropagation(),s.classList.contains("mu-d-none")){if(hideAllPopups(),function(t,e){const a=document.querySelector(".mcc-table--responsive"),s=t.getBoundingClientRect().left+window.scrollX-a.getBoundingClientRect().left,n=t.parentNode;s+250>a.clientWidth&&(n.classList.add("right-align-popup"),e.style.right=t.closest("th").getBoundingClientRect().width-11+"px")}(t.currentTarget,s),s.classList.remove("mu-d-none"),e.closest("table").offsetHeight<s.offsetHeight+100){a.setAttribute("style",`min-height: ${s.offsetHeight+100}px`);const windowClickHandler=()=>{a.removeAttribute("style"),window.removeEventListener("click",windowClickHandler)};window.onclick=windowClickHandler}else a.removeAttribute("style");window.addEventListener("click",(()=>windowColumnActionClickHandler(a)))}else s.classList.add("mu-d-none"),e.closest("table").parentElement.removeAttribute("style"),window.removeEventListener("click",(()=>windowColumnActionClickHandler(a)))}}" aria-label="Column actions"><svg class="filled-filter" width="18" height="18"><title>Column actions</title><use xlinkHref="#table_filter_edit" href="#table_filter_edit"/></svg> <svg class="sort-asc-filter" width="18" height="18"><title>Column sorted in ascending order</title><use xlinkHref="#table_filter_asc_sort" href="#table_filter_asc_sort"/></svg> <svg class="sort-desc-filter" width="18" height="18"><title>Column sorted in descending order</title><use xlinkHref="#table_filter_desc_sort" href="#table_filter_desc_sort"/></svg> <svg class="filter" width="18" height="18"><title>Column filtering available</title><use xlinkHref="#table_filter" href="#table_filter"/></svg> <svg class="filter-and-sort" width="18" height="18"><title>Column filtering and sorting available</title><use xlinkHref="#table_filter_and_sort" href="#table_filter_and_sort"/></svg> <svg class="sort" width="18" height="18"><title>Column sorting available</title><use xlinkHref="#table_sort" href="#table_sort"/></svg> <svg class="sort-asc" width="18" height="18"><title>Column sorted in ascending order</title><use xlinkHref="#table_sort_asc" href="#table_sort_asc"/></svg> <svg class="sort-desc" width="18" height="18"><title>Column sorted in descending order</title><use xlinkHref="#table_sort_desc" href="#table_sort_desc"/></svg></button><div class="mcc-table__column-popup mu-d-none"><h4 class="mu-text-center">${l.title}</h4>${l.sortable?((t,e)=>i`<div class="mcc-table__column-sort mcc-button-group--vertical mcc-button-group--sm mcc-button-group mcc-button-group--spaced mcc-button-group--block" role="group" aria-label="sort-buttons"><button class="mcc-button mcc-button--outline-secondary" tabindex="-1" onclick="${a=>{a.preventDefault(),a.stopPropagation(),e(t,"asc")}}" aria-label="Sort ascending"><span class="mcc-button__label">Sort ascending</span></button> <button class="mcc-button mcc-button--outline-secondary mcc-table__header-action" tabindex="-1" onclick="${a=>{a.preventDefault(),a.stopPropagation(),e(t,"desc")}}" aria-label="Sort descending"><span class="mcc-button__label">Sort descending</span></button></div>`)(e,s):""} ${l.sortable&&(t||l.columnSearch)?i`<hr>`:""} ${t||l.columnSearch?ColumnFilter(e,a,l,n,0,o):""}</div></div>`,buildHeaderClasses=(t,e,a,s)=>{const n=new H;return n.addClass("mu-valign-middle mu-text-start table-head-title"),e.hidden&&n.addClass("mu-d-none"),(t||e.columnSearch)&&n.addClass("has-column-search"),e.sortable&&n.addClass("is-sortable"),a&&n.addClass("current-sort"),s&&n.addClass(`sort-direction-${s}`),n.build()},getHeader=(t,e,a,s,n,r,o,l)=>{const c=a&&a[e]&&a[e].sortable,u=t||a&&a[e]&&(a[e].sortable||a[e].columnSearch),d=a&&a[e]&&"boolean"===a[e].type&&"checkbox"===a[e].format&&a[e].editable;return i`<div class="mcc-table__header">${((t,e,a,s,n,r,o)=>t&&e?i`<div class="mcc-table__title-and-actions">${SelectAllCheckbox(o,a,s)} ${Title(a,s,0,r)}</div>`:!t&&e?i`<div class="mcc-table__title-and-actions">${Title(a,s,0,r)}</div>`:t&&!e?i`<div class="mcc-table__title-and-actions">${SelectAllCheckbox(o,a,s)} ${Title(a,s)}</div>`:Title(a,s))(d,c,e,a,0,n,l)} ${u?ColumnActions(t,e,s,n,r,0,s.columnSearchInputAttributes,a[e]):""}</div>`};function createHeadRow(t){const e=t.store,a=function(t){return{id:t.id,small:t.small,searchColumns:t.searchColumns,sortHeader:t.sortHeader,sortDirection:t.sortDirection,searchEnabled:t.columnSearch||t.fullTextSearch,searchPlaceholder:t.searchPlaceholder,columnSearchInputAttributes:t.columnSearchInputAttributes,fullTextSearchInputAttributes:t.fullTextSearchInputAttributes}}(e.state);!function(t,e){let a=t;for(const t in e)(e[t].sortable||e[t].columnSearch)&&(a=!0)}(e.state.columnSearch,e.state.schema.properties);return function(t){t.store.state.columnSearchDebounced=debounce((()=>{Object.keys(t.store.state.cache).length===t.store.state.firstTotalCount&&t.store.state.totalCount>0&&t.store.state.totalCount<=t.store.state.firstTotalCount||t.store.state.cursorPagination?filter(t.store):performSearch(t),onFilterEvent(t)}),-1===t.store.state.debounceTime?0:t.store.state.debounceTime)}(t),function(t,e,a,s,n,r,o,l,c,u){return i`<tr>${a?i`<th><label class="sr-only">Toggle</label></th>`:""} ${n.filter((t=>!isSchema(t,s[t]))).map((e=>{const a=s[e].width;return a?i`<th data-prop="${e}" style="width:${a}" class="${buildHeaderClasses(t,s[e],r.sortHeader===e,r.sortHeader===e&&r.sortDirection)}">${getHeader(t,e,s,r,o,l,0,u)}</th>`:i`<th data-prop="${e}" class="${buildHeaderClasses(t,s[e],r.sortHeader===e,r.sortHeader===e&&r.sortDirection)}">${getHeader(t,e,s,r,o,l,0,u)}</th>`}))}</tr>`}(e.state.columnSearch,0,hasChildRow(t.store.state),e.state.schema.properties,Object.keys(e.state.schema.properties),a,function(t){const e=t.store;return function(a,s){if(null===e.state.sortHeader)e.setState({sortedColumn:{header:a,cache:e.state.cache,filteredCache:e.state.filteredCache}});else if(e.state.sortHeader===a&&e.state.sortDirection===s)return void e.setState({cache:e.state.sortedColumn.cache,filteredCache:e.state.sortedColumn.filteredCache||e.state.filteredCache,sortHeader:null,sortDirection:null});e.state.sortHeader===a&&e.state.sortDirection===s||e.setState({sortHeader:a,sortDirection:s},!1),sortData(t)}}(t),function(t){const e=t.store,a=t.store.state.id;return function(s){unhighlightRows(e);const n=t.element.querySelector(`#operator-${a}-${s}`),r=t.element.querySelector(`#input-${a}-${s}`),o=t.element.querySelector(`#input-end-${a}-${s}`);e.state.focusElement=`#input-${a}-${s}`;const i=normaliseQuery(r.value);if("invalid query"===i)return void t.element.querySelector(`#input-${a}-${s}`).parentElement.querySelector(".mfc-invalid-feedback").classList.remove("mu-d-none");t.element.querySelector(`#input-${a}-${s}`).parentElement.querySelector(".mfc-invalid-feedback").classList.add("mu-d-none"),r.setAttribute("placeholder","..."===n.value?"Range start":t.store.state.searchPlaceholder),o.classList["..."===n.value?"remove":"add"]("mu-d-none");const l=Array.from(n.options),c=e.state.schema.properties[s];let u;if(l.forEach((t=>t.disabled=!1)),isNumberOrDateSearch(c)&&l.forEach((t=>t.disabled="~"===t.value||"!~"===t.value)),null==e.state.searchColumns&&(e.state.searchColumns={}),"..."===n.value){const t=i,e=o.value;u=i?`${t}${n.value}${e}`:""}else u=i?`${"0"!==n.value?n.value:""}${i}`:"";null!=u&&""!==u?(e.state.searchColumns||(e.state.searchColumns={}),e.state.searchColumns[s]={query:u,operator:"0"!==n.value?n.value:"",matcher:null},e.state.debounceTime>-1&&(e.state.searchColumns[s].matcher=createMatcher(e,e.state.schema.properties[s],e.state.searchColumns[s].query,e.state.searchColumns[s].operator),e.state.columnSearchDebounced())):null!=u&&""!==u||(e.state.searchColumns&&e.state.searchColumns[s]&&delete e.state.searchColumns[s],e.state.debounceTime>-1&&e.state.columnSearchDebounced())}}(t),function(t){const e=t.store}(t),getOnSelectAllCheckboxes(t))}function appendChild(t,e){e&&(Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t))}function createFullTextSearchDebounce(t,e){e.store.state.fullTextSearchDebounced=debounce((()=>{Object.keys(e.store.state.cache).length===e.store.state.totalCount||e.store.state.cursorPagination?function(t){const e=t.state.fullTextQuery;if(null==e||""===e)t.setState(t.getResetState());else{const a=parseQuery(t,e),{filteredCache:s,filteredTotalCount:n}=fullTextSearchInCache(a,t.state.cache);t.setState({...t.getResetState(),fullTextQuery:t.state.fullTextQuery,focusElement:t.state.focusElement,filteredCache:s,filteredTotalCount:n})}}(e.store):performSearch(e),onFilterEvent(e)}),-1===e.store.state.debounceTime?0:e.store.state.debounceTime)}function createFullTextSearch(t){const e=((t,e,a,s={})=>{const n=t.store.state.id,r=t.store.originalOptions.schema.properties,o=[];return Object.keys(r).forEach((t=>{"actions"!==t&&o.push({text:r[t].title?r[t].title:t,value:t})})),t.store.state.fullTextSearchHelpers?i`<div class="mcc-table__full-text-search-helpers"><div class="${t.store.state.inApplets?"mcc-table__full-text-search-form-group mu-my-00":"mcc-table__full-text-search-form-group"}"><fieldset class="${t.store.state.inApplets?"mfc-select-wrapper mu-mr-02":""}"><label for="${`column-${n}`}" class="${t.store.state.inApplets?"mu-position-absolute mu-ml-02":""}">${t.store.state.inApplets?"Col:":"Column:"}</label> <select id="${`column-${n}`}" onchange="${a}" ...${s} class="${t.store.state.inApplets?"mu-pl-07":""}"><option value="0">All</option>${o.map((e=>t.store.state.schema.properties[e.value].hidden?"":i`<option value="${e.value}">${e.text}</option>`))}</select></fieldset><fieldset class="${t.store.state.inApplets?"mfc-select-wrapper mu-mr-02":""}"><label for="${`operator-${n}`}" class="${t.store.state.inApplets?"mu-position-absolute mu-ml-02":""}">Operator:</label> <select id="${`operator-${n}`}" onchange="${a}" ...${s} style="${t.store.state.inApplets?"padding-left:4.5rem":""}"><option value="0">Default</option><option value="~">Contains</option><option value="!~">Not Contains</option><option value="=">Equals</option><option value="!=">Not equals</option><option value=">">Greater than</option><option value="<">Less than</option><option value="...">Range</option></select></fieldset><fieldset class="${t.store.state.inApplets?"mfc-input-wrapper mu-mr-02":""}"><label for="${`input-${n}`}" class="${t.store.state.inApplets?"mu-position-absolute mu-ml-02":""}">Query:</label> <input class="${t.store.state.inApplets?"mu-pl-09":""}" type="search" id="${`input-${n}`}" aria-label="Search" placeholder="${e}" oninput="${t=>{t.preventDefault(),t.stopPropagation(),a(t)}}" onkeydown="${a}" ...${s}> <input type="search" id="${`input-end-${n}`}" aria-label="Search" class="mu-d-none" placeholder="Range end" oninput="${t=>{t.preventDefault(),t.stopPropagation(),a(t)}}" onkeydown="${a}" ...${s}> <span class="mfc-invalid-feedback mu-d-none">Only <strong>*, ., -,/,_ and @ </strong>special character are allowed</span></fieldset>${t.store.state.sortDropdown?i`<div><fieldset class="${t.store.state.inApplets?"mfc-select-wrapper mu-mr-02":""}"><label for="${`column-${n}`}" class="${t.store.state.inApplets?"mu-position-absolute mu-ml-02":""}">Sort</label> <select id="${`sort-${n}`}" onchange="${a}" ...${s} class="${t.store.state.inApplets?"mu-pl-07":""}"><option value="0">Default</option>${o.map((e=>t.store.state.schema.properties[e.value].sortable?i`<option value="${e.value}">${e.text}</option>`:""))}</select> <button class="mcc-button mcc-button--secondary" onclick="${a}" ...${s}>Desc</button></fieldset></div>`:""}</div></div>`:i`<div class="${t.store.state.sortDropdown?"mcc-table__full-text-search-helpers":"mcc-table__full-text-search"}"><div class="${t.store.state.sortDropdown?"[ mfc-input-wrapper ]":"[ mfc-input-wrapper ] [ mu-mb-05]"}"><input type="search" id="${`input-${n}`}" aria-label="Search" placeholder="${e}" oninput="${t=>{t.preventDefault(),t.stopPropagation(),a(t)}}" onkeydown="${a}" ...${s}><div class="mfc-invalid-feedback mu-d-none">Only <strong>*, ., -,/,_ and @ </strong>special character are allowed</div></div>${t.store.state.sortDropdown?i`<fieldset><label for="${`column-${n}`}" class="${t.store.state.inApplets?"mu-position-absolute mu-ml-02":""}">Sort</label> <select id="${`sort-${n}`}" onchange="${a}" ...${s} class="${t.store.state.inApplets?"mu-pl-07":""}"><option value="0">Default</option>${o.map((e=>t.store.state.schema.properties[e.value].sortable?i`<option value="${e.value}">${e.text}</option>`:""))}</select> <button class="mcc-button mcc-button--secondary" onclick="${a}" ...${s}>Desc</button></fieldset>`:""}</div>`})(t,t.store.state.searchPlaceholder,function(t){const e=t.store,a=t.store.state.id;return function(s){const n=s.target.id,r="button"===s.target.tagName.toLowerCase();if(n.includes("sort")||r){const a=r?s.target.previousElementSibling.value:s.target.value,n=r&&"asc"===e.state.sortDirection?"desc":"asc";return r?s.target.textContent="asc"===n?"Desc":"Asc":s.target.nextElementSibling.textContent="Desc",t.sortColumns(a,n),!0}unhighlightRows(e);const o=document.querySelector(`#column-${a}`);let i;o&&(i="0"!==o.value?`${o.value}___`:"0");const l=document.querySelector(`#operator-${a}`),c=document.querySelector(`#input-${a}`),u=document.querySelector(`#input-end-${a}`);e.state.focusElement=`#input-${a}`;const d=normaliseQuery(c.value);if("invalid query"!==d){if(document.querySelector(`#input-${a}`).parentElement.querySelector(".mfc-invalid-feedback").classList.add("mu-d-none"),l){c.setAttribute("placeholder","..."===l.value?"Range start":t.store.state.searchPlaceholder),u.classList["..."===l.value?"remove":"add"]("mu-d-none");const a=Array.from(l.options);if(i&&"0"!==i){const t=e.state.schema.properties[o.value];a.forEach((t=>t.disabled=!1)),isNumberOrDateSearch(t)&&a.forEach((t=>t.disabled="~"===t.value||"!~"===t.value))}if("..."===l.value){const t=d,a=u.value;e.state.fullTextQuery=d?`${"0"!==i?i:""}${t}${l.value}${a}`:""}else e.state.fullTextQuery=d?`${"0"!==i?i:""}${"0"!==l.value?l.value:""}${d}`:""}else e.state.fullTextQuery=d?`${i&&"0"!==i?i:""}${d}`:"";(-1===e.state.debounceTime&&(s.which||s.keyCode)&&(13===s.which||13===s.keyCode)||e.state.debounceTime>-1)&&e.state.fullTextSearchDebounced()}else document.querySelector(`#input-${a}`).parentElement.querySelector(".mfc-invalid-feedback").classList.remove("mu-d-none")}}(t),t.store.state.fullTextSearchInputAttributes);return createFullTextSearchDebounce(0,t),e}const CreateToggleColumnViewAction=t=>{const e=t.store.originalOptions.schema.properties,a=[];return Object.keys(e).forEach((t=>{"actions"===t||e[t].hidden||a.push({text:e[t].title?e[t].title:t,prop:t})})),a.splice(0,1),i`<details class="mcc-dropdown"><summary class="mcc-button mcc-button--outline-secondary" aria-haspopup="true"><span class="mcc-button__label">Toggle Column</span><mcc-icon class="mcc-button__dropdown-caret" name="angle_down" aria-hidden="true"></mcc-icon></summary><ul class="mcc-dropdown__menu mcc-table__toggle-column-popup">${a.map((e=>i`<li><button onclick="${onToggleClick}" type="button" onclick="${e=>function(t,e){t.stopPropagation();Array.from(t.currentTarget.querySelector(".mark-icons").children).forEach((t=>t.classList.toggle("mu-d-none"))),e.toggleColumn(t.currentTarget.dataset.props)}(e,t)}" data-props="${e.prop}" aria-label="${e.text}"><span class="mark-icons"><mcc-icon name="checked_checkbox" class="mcc-icon--primary"></mcc-icon><mcc-icon name="unchecked_checkbox" class="mcc-icon--dark mu-d-none"></mcc-icon></span><div>${e.text}</div></button></li>`))}</ul></details>`};function onToggleClick(t){t.stopPropagation();const e=Array.from(t.currentTarget.querySelector(".mcc-table__toggle-column-icons").children);e.forEach((t=>t.classList.toggle("mu-d-none")));const a=t.currentTarget.querySelector(".mcc-table__toggle-column-popup");a.classList.toggle("mu-d-none"),window.onclick=()=>{a.classList.add("mu-d-none"),e.forEach((t=>{t.classList.contains("angle-up")?t.classList.add("mu-d-none"):t.classList.remove("mu-d-none")}))}}function loadPageData(t,e){showLoadingTemplate(e),t.target.getAttribute("id")===`next-btn-${e.store.state.id}`?loadData(e,!0,"next"):loadData(e,!0,"prev")}function showLoadingTemplate(t){const e=t.element.querySelector("table tbody");for(;e.hasChildNodes();)e.firstChild.remove();e.innerHTML=`<tr>\n      <td colspan=${filteredHeaders(t).length+1}>\n        ${t.store.state.loadingTemplate}\n      </td>\n    </tr>`}const Table=t=>i`<table id="${t.id}" class="${t.tableClassName}" style="${`table-layout: ${t.layout}; width: ${t.width}`}">${(t=>t.headClassName?i`<thead class="${t.headClassName}"></thead>`:i`<thead></thead>`)(t)}<tbody></tbody>${t.footers?(t=>t.footClassName?i`<tfoot class="${t.footClassName}"></tfoot>`:i`<tfoot></tfoot>`)(t):""}</table>`,DefaultTable=t=>t.fixedHeight?Table(t):(t=>i`<div class="mcc-table--responsive">${Table(t)}</div>`)(t);const DisplayedEntries=t=>i`<span class="mcc-table__pagination-info-page-size"><span class="mcc-table__pagination-info-display">Display</span> <select size="1">${function(t=50,e){return[...new Set([10,25,50,t])].sort(((t,e)=>t-e)).map((t=>i`<option value="${t}" selected="${e===t}">${t}</option>`))}(t.originalOptions.pageSize,t.state.pageSize)}</select> <span class="mcc-table__pagination-info-rows">rows</span></span>`;function renderTable(t,e,a){const s=(n=a.state,DefaultTable(n));var n;if(elementEmpty(e),!document.getElementById("table_sort")){appendChild(i`<svg xmlns="http://www.w3.org/2000/svg" style="position:absolute;height:0;width:0"><symbol id="table_sort" viewBox="0 0 32 32"><path d="M 16 3.59375 L 15.28125 4.28125 L 7.28125 12.28125 L 5.59375 14 L 26.40625 14 L 24.71875 12.28125 L 16.71875 4.28125 Z M 16 6.4375 L 21.5625 12 L 10.4375 12 Z M 5.59375 18 L 7.28125 19.71875 L 15.28125 27.71875 L 16 28.40625 L 16.71875 27.71875 L 24.71875 19.71875 L 26.40625 18 Z M 10.4375 20 L 21.5625 20 L 16 25.5625 Z "/></symbol><symbol id="table_sort_asc" viewBox="0 0 32 32"><path d="M 16 8.59375 L 15.28125 9.28125 L 5.28125 19.28125 L 3.59375 21 L 28.40625 21 L 26.71875 19.28125 L 16.71875 9.28125 Z M 16 11.4375 L 23.5625 19 L 8.4375 19 Z "/></symbol><symbol id="table_sort_desc" viewBox="0 0 32 32"><path d="M 3.59375 12 L 5.28125 13.71875 L 15.28125 23.71875 L 16 24.40625 L 16.71875 23.71875 L 26.71875 13.71875 L 28.40625 12 Z M 8.4375 14 L 23.5625 14 L 16 21.5625 Z "/></symbol><symbol id="table_checkmark" viewBox="0 0 32 32"><path d="M 28.28125 6.28125 L 11 23.5625 L 3.71875 16.28125 L 2.28125 17.71875 L 10.28125 25.71875 L 11 26.40625 L 11.71875 25.71875 L 29.71875 7.71875 Z "/></symbol><symbol id="table_angle_right" viewBox="0 0 32 32"><path d="M 12.96875 4.28125 L 11.53125 5.71875 L 21.8125 16 L 11.53125 26.28125 L 12.96875 27.71875 L 23.96875 16.71875 L 24.65625 16 L 23.96875 15.28125 Z "/></symbol><symbol id="table_angle_down" viewBox="0 0 32 32"><path d="M 4.21875 10.78125 L 2.78125 12.21875 L 15.28125 24.71875 L 16 25.40625 L 16.71875 24.71875 L 29.21875 12.21875 L 27.78125 10.78125 L 16 22.5625 Z "/></symbol><symbol id="table_angle_up" viewBox="0 0 32 32"><path d="M 16 6.59375 L 15.28125 7.28125 L 2.78125 19.78125 L 4.21875 21.21875 L 16 9.4375 L 27.78125 21.21875 L 29.21875 19.78125 L 16.71875 7.28125 Z "/></symbol><symbol id="table_checked_checkbox" viewBox="0 0 32 32"><path d="M 4 4 L 4 28 L 28 28 L 28 12.1875 L 26 14.1875 L 26 26 L 6 26 L 6 6 L 25.8125 6 L 27.8125 4 Z M 27.28125 7.28125 L 16 18.5625 L 11.71875 14.28125 L 10.28125 15.71875 L 15.28125 20.71875 L 16 21.40625 L 16.71875 20.71875 L 28.71875 8.71875 Z "/></symbol><symbol id="table_unchecked_checkbox" viewBox="0 0 32 32"><path d="M 5 5 L 5 27 L 27 27 L 27 5 Z M 7 7 L 25 7 L 25 25 L 7 25 Z "/></symbol><symbol id="table_delete_sign" viewBox="0 0 32 32"><path d="M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z "/></symbol><symbol id="table_error" viewBox="0 0 32 32"><path d="M 16 3.21875 L 15.125 4.71875 L 3.125 25.5 L 2.28125 27 L 29.71875 27 L 28.875 25.5 L 16.875 4.71875 Z M 16 7.21875 L 26.25 25 L 5.75 25 Z M 15 14 L 15 20 L 17 20 L 17 14 Z M 15 21 L 15 23 L 17 23 L 17 21 Z "/></symbol><symbol id="table_high_importance" viewBox="0 0 32 32"><path d="M 16 4 C 9.382813 4 4 9.382813 4 16 C 4 22.617188 9.382813 28 16 28 C 22.617188 28 28 22.617188 28 16 C 28 9.382813 22.617188 4 16 4 Z M 16 6 C 21.535156 6 26 10.464844 26 16 C 26 21.535156 21.535156 26 16 26 C 10.464844 26 6 21.535156 6 16 C 6 10.464844 10.464844 6 16 6 Z M 15 10 L 15 18 L 17 18 L 17 10 Z M 15 20 L 15 22 L 17 22 L 17 20 Z "/></symbol><symbol id="table_inline_cancel" viewBox="0 0 32 32"><path d="M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 C 29 8.832031 23.167969 3 16 3 Z M 16 5 C 22.085938 5 27 9.914063 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 Z M 12.21875 10.78125 L 10.78125 12.21875 L 14.5625 16 L 10.78125 19.78125 L 12.21875 21.21875 L 16 17.4375 L 19.78125 21.21875 L 21.21875 19.78125 L 17.4375 16 L 21.21875 12.21875 L 19.78125 10.78125 L 16 14.5625 Z "/></symbol><symbol id="table_filter" viewBox="0 0 32 32"><path d="M 5 4 L 5 6.34375 L 5.21875 6.625 L 13 16.34375 L 13 28 L 14.59375 26.8125 L 18.59375 23.8125 L 19 23.5 L 19 16.34375 L 26.78125 6.625 L 27 6.34375 L 27 4 Z M 7.28125 6 L 24.71875 6 L 17.53125 15 L 14.46875 15 Z M 15 17 L 17 17 L 17 22.5 L 15 24 Z "/></symbol><symbol id="table_filled_filter" viewBox="0 0 32 32"><path d="M 5 4 L 5 6.34375 L 5.21875 6.625 L 13 16.34375 L 13 28 L 14.59375 26.8125 L 18.59375 23.8125 L 19 23.5 L 19 16.34375 L 26.78125 6.625 L 27 6.34375 L 27 4 Z M 7.28125 6 L 24.71875 6 L 23.125 8 L 8.875 8 Z M 10.46875 10 L 21.53125 10 L 17.21875 15.375 L 17 15.65625 L 17 22.5 L 15 24 L 15 15.65625 L 14.78125 15.375 Z "/></symbol><symbol id="table_filter_and_sort" viewBox="0 0 32 32"><path d="M 18.189453 1.7929688 L 16.775391 3.2070312 L 20.482422 6.9140625 L 24.189453 3.2070312 L 22.775391 1.7929688 L 20.482422 4.0859375 L 18.189453 1.7929688 z M 11.482422 2 L 7.7753906 5.7070312 L 9.1894531 7.1210938 L 11.482422 4.828125 L 13.775391 7.1210938 L 15.189453 5.7070312 L 11.482422 2 z M 5 8 L 5 10.380859 L 13 19.380859 L 13 30 L 19 25.5 L 19 25 L 19 19.380859 L 27 10.380859 L 27 8 L 26 8 L 5 8 z M 7.3378906 10 L 24.662109 10 L 17.550781 18 L 14.449219 18 L 7.3378906 10 z M 15 20 L 17 20 L 17 24.5 L 15 26 L 15 20 z"/></symbol><symbol id="table_filter_edit" viewBox="0 0 32 32"><path d="m5 4v2.3516l8 10v11.648l6-4.5v-0.5-6.6484l8-10v-2.3516h-1-21zm2.2812 2h17.438l-7.1992 9h-3.0391l-7.1992-9zm7.7188 11h2v5.5l-2 1.5v-7zm14 0c-0.75 0-1.4996 0.30039-2.0996 0.90039l-8.8008 8.7988-1.0996 5.3008 5.3008-1.0996 8.7988-8.8008c0.6-0.6 0.90039-1.3496 0.90039-2.0996s-0.30039-1.4996-0.90039-2.0996-1.3496-0.90039-2.0996-0.90039zm0 2c0.25 0 0.49922 0.10078 0.69922 0.30078 0.4 0.4 0.4 0.99844 0 1.3984l-8.3984 8.4004-1.7012 0.30078 0.30078-1.7012 8.4004-8.3984c0.2-0.2 0.44922-0.30078 0.69922-0.30078z"/></symbol><symbol id="table_filter_asc_sort" viewBox="0 0 32 32"><g><path d="m5 4v2.3438l0.21875 0.28125 7.7812 9.7188v11.656l1.5938-1.1875 4-3 0.40625-0.3125v-7.1562l7.7812-9.7188 0.21875-0.28125v-2.3438zm2.2812 2h17.438l-7.1875 9h-3.0625zm7.7188 11h2v5.5l-2 1.5z"/><path d="m32.059 31.869-0.972-0.99-5.76-5.76-0.414-0.396-0.414 0.396-5.76 5.76-0.972 0.99zm-2.79-1.152h-8.712l4.356-4.356z"/></g></symbol><symbol id="table_filter_desc_sort" viewBox="0 0 32 32"><g><path d="m5 4v2.3438l0.21875 0.28125 7.7812 9.7188v11.656l1.5938-1.1875 4-3 0.40625-0.3125v-7.1562l7.7812-9.7188 0.21875-0.28125v-2.3438zm2.2812 2h17.438l-7.1875 9h-3.0625zm7.7188 11h2v5.5l-2 1.5z"/><path d="m17.767 24.723 0.972 0.99 5.76 5.76 0.414 0.396 0.414-0.396 5.76-5.76 0.972-0.99zm2.79 1.152h8.712l-4.356 4.356z"/></g></symbol><symbol id="table_nothing_found" viewBox="0 0 32 32"><path d="M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.398438 9.851563 17.597656 11.265625 19.324219 L 3.292969 27.292969 L 4.707031 28.707031 L 12.675781 20.734375 C 14.402344 22.148438 16.601563 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z M 16 10 C 15.449219 10 15 10.449219 15 11 C 15 11.550781 15.449219 12 16 12 C 16.550781 12 17 11.550781 17 11 C 17 10.449219 16.550781 10 16 10 Z M 22 10 C 21.449219 10 21 10.449219 21 11 C 21 11.550781 21.449219 12 22 12 C 22.550781 12 23 11.550781 23 11 C 23 10.449219 22.550781 10 22 10 Z M 19 14 C 16.792969 14 15.34375 15.246094 15.34375 15.246094 C 15.0625 15.472656 14.929688 15.839844 14.996094 16.199219 C 15.058594 16.554688 15.316406 16.851563 15.660156 16.964844 C 16.003906 17.082031 16.386719 17 16.65625 16.753906 C 16.65625 16.753906 17.515625 16 19 16 C 20.484375 16 21.34375 16.753906 21.34375 16.753906 C 21.613281 17 21.996094 17.082031 22.339844 16.964844 C 22.683594 16.851563 22.941406 16.554688 23.003906 16.199219 C 23.070313 15.839844 22.9375 15.472656 22.65625 15.246094 C 22.65625 15.246094 21.207031 14 19 14 Z"/></symbol><symbol id="table_search_more" viewBox="0 0 32 32"><path d="M 19 3 C 13.488997 3 9 7.4889971 9 13 C 9 15.396508 9.8510142 17.597385 11.263672 19.322266 L 3.2929688 27.292969 L 4.7070312 28.707031 L 12.677734 20.736328 C 14.402615 22.148986 16.603492 23 19 23 C 24.511003 23 29 18.511003 29 13 C 29 7.4889971 24.511003 3 19 3 z M 19 5 C 23.430123 5 27 8.5698774 27 13 C 27 17.430123 23.430123 21 19 21 C 14.569877 21 11 17.430123 11 13 C 11 8.5698774 14.569877 5 19 5 z M 15 12 A 1 1 0 0 0 14 13 A 1 1 0 0 0 15 14 A 1 1 0 0 0 16 13 A 1 1 0 0 0 15 12 z M 19 12 A 1 1 0 0 0 18 13 A 1 1 0 0 0 19 14 A 1 1 0 0 0 20 13 A 1 1 0 0 0 19 12 z M 23 12 A 1 1 0 0 0 22 13 A 1 1 0 0 0 23 14 A 1 1 0 0 0 24 13 A 1 1 0 0 0 23 12 z"/></symbol><symbol id="table_ascending_sorting" viewBox="0 0 32 32"><path d="M 4 5 L 4 7 L 6 7 L 6 5 Z M 21 5 L 21 23.6875 L 18.40625 21.09375 L 17 22.5 L 21.28125 26.8125 L 22 27.5 L 22.71875 26.8125 L 27 22.5 L 25.59375 21.09375 L 23 23.6875 L 23 5 Z M 4 9 L 4 11 L 8 11 L 8 9 Z M 4 13 L 4 15 L 10 15 L 10 13 Z M 4 17 L 4 19 L 12 19 L 12 17 Z M 4 21 L 4 23 L 14 23 L 14 21 Z M 4 25 L 4 27 L 16 27 L 16 25 Z "/></symbol><symbol id="table_descending_sorting" viewBox="0 0 32 32"><path d="M 4 5 L 4 7 L 16 7 L 16 5 Z M 21 5 L 21 23.6875 L 18.40625 21.09375 L 17 22.5 L 21.28125 26.8125 L 22 27.5 L 22.71875 26.8125 L 27 22.5 L 25.59375 21.09375 L 23 23.6875 L 23 5 Z M 4 9 L 4 11 L 14 11 L 14 9 Z M 4 13 L 4 15 L 12 15 L 12 13 Z M 4 17 L 4 19 L 10 19 L 10 17 Z M 4 21 L 4 23 L 8 23 L 8 21 Z M 4 25 L 4 27 L 6 27 L 6 25 Z "/></symbol><symbol id="table_empty_status_task" viewBox="0 0 72 72"><path id="svg_1" d="m42.551,0.699c-15.101,0 -27.343,12.242 -27.343,27.343c0,6.788 2.479,12.993 6.573,17.774l-20.827,20.83c-0.239,0.239 -0.239,0.63 0,0.869l2.606,2.606c0.241,0.236 0.628,0.236 0.869,0l20.868,-20.869c4.707,3.833 10.711,6.135 17.254,6.135c15.102,0 27.344,-12.243 27.344,-27.345c0,-15.101 -12.243,-27.343 -27.344,-27.343zm0,49.773c-12.367,0 -22.428,-10.063 -22.428,-22.43c0,-12.368 10.062,-22.428 22.428,-22.428c12.365,0 22.427,10.061 22.427,22.428c0,12.367 -10.06,22.43 -22.427,22.43z"/><path id="svg_2" d="m31.198,23.086c0,-1.67845 1.35955,-3.038 3.038,-3.038c1.67845,0 3.038,1.35955 3.038,3.038c0,1.67845 -1.35955,3.038 -3.038,3.038c-1.67845,0 -3.038,-1.35955 -3.038,-3.038z"/><path id="svg_3" d="m47.828,23.245c0,-1.67845 1.35955,-3.038 3.038,-3.038c1.67845,0 3.038,1.35955 3.038,3.038c0,1.67845 -1.35955,3.038 -3.038,3.038c-1.67845,0 -3.038,-1.35955 -3.038,-3.038z"/><path id="svg_4" d="m32.634,35.782l0,0.002c-1.184,-1.063 -1.283,-2.884 -0.221,-4.068l0,0c1.061,-1.182 2.877,-1.283 4.062,-0.226l0,0c0.013,0.009 0.034,0.029 0.07,0.058l0,0l0.348,0.269c0.319,0.235 0.804,0.562 1.406,0.886l0,0c1.209,0.648 2.854,1.26 4.574,1.254l0,0c3.288,0.088 6.788,-2.66 7,-2.916l0,0l0.005,-0.001c1.17,-1.077 2.99,-1.001 4.068,0.169l0,0c1.077,1.17 1.008,2.993 -0.169,4.069l0,0c-0.245,0.143 -4.503,4.334 -10.904,4.439l0,0c-6.076,-0.078 -9.994,-3.772 -10.239,-3.935l0,0l0,0z"/></symbol><symbol id="table_empty_status_no_records" viewBox="0 0 72 72"><path id="svg_1" d="m42.551,0.699c-15.101,0 -27.343,12.242 -27.343,27.343c0,6.788 2.479,12.993 6.573,17.774l-20.827,20.83c-0.239,0.239 -0.239,0.63 0,0.869l2.606,2.606c0.241,0.236 0.628,0.236 0.869,0l20.868,-20.869c4.707,3.833 10.711,6.135 17.254,6.135c15.102,0 27.344,-12.243 27.344,-27.345c0,-15.101 -12.243,-27.343 -27.344,-27.343zm0,49.773c-12.367,0 -22.428,-10.063 -22.428,-22.43c0,-12.368 10.062,-22.428 22.428,-22.428c12.365,0 22.427,10.061 22.427,22.428c0,12.367 -10.06,22.43 -22.427,22.43z"/><path id="svg_2" d="m31.198,23.086c0,-1.67845 1.35955,-3.038 3.038,-3.038c1.67845,0 3.038,1.35955 3.038,3.038c0,1.67845 -1.35955,3.038 -3.038,3.038c-1.67845,0 -3.038,-1.35955 -3.038,-3.038z"/><path id="svg_3" d="m47.828,23.245c0,-1.67845 1.35955,-3.038 3.038,-3.038c1.67845,0 3.038,1.35955 3.038,3.038c0,1.67845 -1.35955,3.038 -3.038,3.038c-1.67845,0 -3.038,-1.35955 -3.038,-3.038z"/><path id="svg_15" d="m31.88665,32.85411l20.83045,0l0,5.16806l-20.83045,0l0,-5.16806z"/></symbol></svg>`,e)}if(a.state.fullTextSearch){let s;s=a.state.inApplets?e.closest("mcc-applet-card").querySelector(".mcc-card-applet-header-slot"):e,appendChild(createFullTextSearch(t),s)}a.state.toggleColumnView&&function(t){const e=CreateToggleColumnViewAction(t);if(t.store.state.fullTextSearch&&t.store.state.fullTextSearchHelpers){const a=t.element.querySelector(".mcc-table__toggle-column-view");e.classList.add("my-2"),a.appendChild(e)}else if(t.store.state.fullTextSearch){const a=t.element.querySelector(".mcc-table__toggle-column-view .mcc-table__toggle-column-view-action");a.style.display="flex",a.appendChild(e)}else{const a=elementFromString("\n    <div class='mcc-table__toggle-column-view'>\n    </div>");a.appendChild(e),t.element.appendChild(a)}}(t),appendChild(s,e),a.setState({tableRendered:!0},!1)}function renderFoot(t,e){if(e.state.footers){const n=t.querySelector(`#${e.state.id} > tfoot`);n&&(elementEmpty(n),appendChild((e.state.fixedHeight,a=e.state.schema.properties,s=Object.keys(e.state.schema.properties),i`<tr>${s.filter((t=>!isSchema(t,a[t]))).map((t=>{return i`<th class="${e=a[t],e.hidden?"mu-d-none":""}">${Title(t,a)}</th>`;var e}))}</tr>`),n),e.setState({footRendered:!0},!1))}var a,s}function renderHead(t,e,a){const s=e.querySelector(`#${a.state.id} > thead`);var n;a.state.headers&&s&&(a.state.headRendered?(n=a.state,(Object.keys(n.schema.properties).filter((t=>!!n.schema.properties[t].sortable)).length>0||function(t){return t.columnSearch||Object.keys(t.schema.properties).filter((e=>!!t.schema.properties[e].columnSearch)).length>0}(a.state))&&a.state.headRendered&&function(t){Array.from(t.element.querySelectorAll("table thead > tr > th")).forEach((e=>{removeClasses(["current-sort","current-column-search","sort-direction-asc","sort-direction-desc"],e),t.store.state.sortHeader===e.dataset.prop&&(e.classList.add("current-sort"),e.classList.add(`sort-direction-${t.store.state.sortDirection}`)),t.store.state.searchColumns&&t.store.state.searchColumns[e.dataset.prop]&&e.classList.add("current-column-search")}))}(t)):(a.setState({headRendered:!0},!1),elementEmpty(s),appendChild(createHeadRow(t),s)))}function renderBody(t,e,a){const s=e.querySelector(`#${a.state.id} > tbody`);if(hasRows(a)){const t=function(t){const e=[],{start:a,end:s}=getRange(t);for(let n=a;n<s;n++)e.push(t.state.filteredTotalCount>-1?t.state.filteredCache[n].row:t.state.cache[n].row);return e}(a);elementEmpty(s),t.forEach((t=>appendChild(t,s)))}else{const e=a.state.filteredTotalCount>-1?a.state.filteredTotalCount:a.state.totalCount;elementEmpty(s),appendChild(EmptyTableRow(t,Object.keys(a.state.schema.properties).length,0,0===e?a.state.emptyTemplate:a.state.loadingTemplate,null),s)}!function(t,e,a){a.state.fullTextSearch&&a.state.fullTextSearchHighlight&&a.state.filteredTotalCount>-1&&a.state.fullTextSearch&&a.state.fullTextQuery&&""!==a.state.fullTextQuery&&Object.keys(a.state.filteredCache).forEach((t=>{highlight(a.state.filteredCache[t].row,a.state.fullTextQuery)})),a.state.columnSearch&&a.state.columnSearchHighlight&&a.state.filteredTotalCount>-1&&a.state.searchColumns&&Object.keys(a.state.filteredCache).forEach((t=>{const e=a.state.filteredCache[t].row;Object.keys(a.state.searchColumns).forEach((t=>{const s=a.state.searchColumns[t];highlight(Array.from(e.children).find((e=>e.getAttribute("data-prop")===t)),s.query)}))}))}(0,0,a)}function renderCursorPagination(t,e,a){if(a.state.cursorPageLinksAdded)!function(t){const e=t.element,a=t.store.state.id,s=t.store.state.pageLinks,n=e.querySelector(`#next-btn-${a}`),r=e.querySelector(`#prev-btn-${a}`);n&&(s.nextCursor?n.removeAttribute("disabled"):n.setAttribute("disabled","disabled")),r&&(s.previousCursor?r.removeAttribute("disabled"):r.setAttribute("disabled","disabled"))}(t);else{const s=(t=>i`<div class="mcc-table__button-group"><button type="button" id="${`prev-btn-${t.store.state.id}`}" disabled="${!t.store.state.pageLinks.previousCursor}" onclick="${e=>loadPageData(e,t)}">Previous</button> <button type="button" id="${`next-btn-${t.store.state.id}`}" disabled="${!t.store.state.pageLinks.nextCursor}" onclick="${e=>loadPageData(e,t)}">Next</button></div>`)(t);appendChild(s,e.querySelector(".mc-table")),a.state.cursorPageLinksAdded=!0}}function renderDisplayEntries(t,e,a){const s=DisplayedEntries(a);s.querySelector("select").addEventListener("change",(e=>{deselectSelectAllCheckbox(t),a.setState({pageSize:Number(e.target.value),pageIndex:0,firstVisiblePageIndex:0}),loadData(t)}));const n=e.querySelector(".mcc-table__pagination-nav");if(n){const t=n.querySelector(".mcc-table__pagination-info-displayed-entries");t&&(t.innerHTML="",appendChild(s,t))}}function render(t){const e=t.element,a=t.store;a.state.debug&&console.time("render"),a.state.tableRendered||renderTable(t,e,a),a.state.footRendered||renderFoot(e,a),renderHead(t,e,a),a.state.cursorPagination?renderCursorPagination(t,e,a):function(t,e,a){if(a.state.inApplets){let s=t.element.closest("mcc-applet-card").querySelector(".mcc-table__pagination-nav");if(a.state.paginationRendered||s)updatePagination(t);else{s=createPagination(t);const e=document.querySelector(".mcc-card__footer");0!==e.childElementCount?(e.classList.add("mcc-table-in-applet__pagination"),s.setAttribute("style","width:70%"),s.setAttribute("slot","appletFooter")):s.classList.add("mu-w-100"),appendChild(s,e),a.setState({paginationRendered:!0},!1)}a.state.displayedEntries&&renderDisplayEntries(t,e,a)}else{let s=t.element.querySelector(".mcc-table__pagination-nav");a.state.paginationRendered||s?updatePagination(t):(s=createPagination(t),appendChild(s,e),a.setState({paginationRendered:!0},!1)),a.state.displayedEntries&&renderDisplayEntries(t,e,a)}}(t,e,a),renderBody(t,e,a),function(t,e){if(e.state.focusElement){const t=document.getElementById(e.state.focusElement);t&&setTimeout((()=>{if(t.focus(),t.setSelectionRange){const e=2*t.value.length;t.setSelectionRange(e,e)}e.state.focusElement=null}))}}(0,a),a.state.debug&&console.timeEnd("render")}class Z{constructor(e,a,n){!function(e){const a=new s(t).validate(e),n=e.data&&"function"==typeof e.data;if(!a.isValid||!n)throw new Error("Invalid options supplied!")}(n),this.table=e,this.element=a,this.store=new o(n),this.store.registerObserver(this),this._createCellTemplates(),this._render(),loadData(this)}setData(t,e,a=0,{fullTextQuery:s}){if(s){const{filteredTotalCount:a,filteredCache:n}=this.renderPreloadFilterData(t,e,s);this.store.setState({...this.store.getResetState(),fullTextQuery:s,filteredCache:n,filteredTotalCount:a})}else this.store.setState({...this.store.getResetState(),totalCount:t,pageIndex:a,cache:{}},!1),cacheData(this,0,t,e,!1)}renderPreloadFilterData(t,e,a){this.element.querySelector(".mcc-table__full-text-search input[type=search]").value=a,cacheData(this,0,t,e,!1);return fullTextSearchInCache(parseQuery(this.store,a),this.store.state.cache)}showLoading(){showLoadingTemplate(this)}refresh(){this.showLoading();this.store.state.data.apply(null,this.store.state.currentDataArgs).then((t=>cacheData(this,0,this.store.state.currentDataArgs[1],t,!1)))}setRowData(t,e,a=!0){setRowData(this,t,e,a)}removeRow(t){!function(t,e){const a=parseInt(e,10);let s=a;const n=t.state.cache;t.state.filteredTotalCount>-1&&(s=parseInt(t.state.filteredCache[a].cacheIndex,10));const r={},o=s+1;let i=s;if(s>0)for(let t=0;t<s;t++)r[t]=n[t];for(let t=o;t<Object.keys(n).length;t++)r[i]=n[t],++i;const l=t.state.totalCount-1;if(t.state.filteredTotalCount>-1){const e=t.state.fullTextQuery;if(null==e||""===e){const{filteredCache:e,filteredTotalCount:a}=columnSearchInCache(t.state.searchColumns,r);t.setState({cache:r,totalCount:l,filteredCache:e,filteredTotalCount:a})}else{const a=parseQuery(t,e),{filteredCache:s,filteredTotalCount:n}=fullTextSearchInCache(a,r);t.setState({cache:r,totalCount:l,filteredCache:s,filteredTotalCount:n})}}else t.setState({cache:r,totalCount:l})}(this.store,t)}addRow(t){!function(t,e){const a={},s=Object.keys(t.store.state.cache).length;a[s]=createRow(t,e,null,s);const n={...t.store.state.cache,...a},r=t.store.state.totalCount+1;t.store.setState({cache:n,totalCount:r})}(this,t)}disableRowActions(t){enableRowActions(this.store,t,!1)}enableRowActions(t){enableRowActions(this.store,t,!0)}toggleColumn(t){!function(t,e,a){const s=t.querySelector(`thead th[data-prop="${a}"]`);s&&s.classList.toggle("mu-d-none"),Object.keys(e.state.cache).forEach((t=>{const s=e.state.cache[t],n=`[data-prop="${a}"]`,r=s.row;let o;o=Array.isArray(r)?r[0].querySelector(n):r.querySelector(n),o&&(o.classList.toggle("mu-d-none"),e.state.schema.properties[o.dataset.prop].hidden=!e.state.schema.properties[o.dataset.prop].hidden)}))}(this.element,this.store,t)}toggleChildTable(t){toggleChildTable(this.store,t)}reset(){this.store.setState(this.store.getResetState())}sortColumns(t,e){!function(t,e,a){const s=a.store;if(null===s.state.sortHeader)s.setState({sortedColumn:{header:t,cache:s.state.cache,filteredCache:s.state.filteredCache}});else if(s.state.sortHeader===t&&s.state.sortDirection===e)return void s.setState({cache:s.state.sortedColumn.cache,filteredCache:s.state.sortedColumn.filteredCache||s.state.filteredCache,sortHeader:null,sortDirection:null});s.state.sortHeader===t&&s.state.sortDirection===e||s.setState({sortHeader:t,sortDirection:e},!1),sortData(a)}(t,e,this)}update(){this._render()}getFilters(){return{fullTextQuery:this.store.state.fullTextQuery,searchColumns:getSearchColumns(this)}}_render(){render(this)}_createCellTemplates(){!function(t){const e={};Object.keys(t.store.state.schema.properties).forEach((a=>{const s=t.store.state.schema.properties[a];s.template&&(e[a]=s.template)})),Object.keys(e).length>0&&(t.store.state.cellTemplates=e)}(this)}}class Y{constructor(t,e){this.tableContext=new Z(this,t,e)}setData(t,e,a=0,s={fullTextQuery:null}){this.tableContext.setData(t,e,a,s)}showLoading(){this.tableContext.showLoading()}refresh(){this.tableContext.refresh()}setRowData(t,e){this.tableContext.setRowData(t,e)}removeRow(t){this.tableContext.removeRow(t)}addRow(t){this.tableContext.addRow(t)}disableRowActions(t){this.tableContext.disableRowActions(t)}enableRowActions(t){this.tableContext.enableRowActions(t)}toggleColumn(t){this.tableContext.toggleColumn(t)}sortColumns(t,e){this.tableContext.sortColumns(t,e)}reset(){this.tableContext.reset()}toggleChildTable(t){this.tableContext.toggleChildTable(t)}getFilters(){return this.tableContext.getFilters()}}const B={create:(t,e)=>new Y(t,e)};const V="mcc-data-table",Q={createChildTable:B.create,create({createComponent:t,html:e}){t(V,function(t){return{props:{options:{type:Object}},methods:{createTableInstance(){if(this.tableInstance||!this.props.options)return;const t=this.querySelector("div");this.tableInstance=B.create(t,this.props.options)}},mounted(){this.classList.add("mcc-data-table"),this.methods.createTableInstance()},updated(){this.methods.createTableInstance()},render:()=>t`<div></div>`}}(e))}};export{Q as dataTable,B as tableFactory};
