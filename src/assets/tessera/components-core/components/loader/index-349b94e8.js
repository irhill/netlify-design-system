import{g as t}from"./generate-id-9607ce72.js";const e="mcc-drilldown";const o={create({createComponent:o,html:n}){o(e,function(o){return{props:{id:{type:String,default:t("drilldown")},backButtonText:{type:String,default:"Back"},isRoot:{type:Boolean,default:!1},showBackToParent:{type:Boolean,default:!1}},methods:{setRootHeight(t){const o=t?`${parseInt(t.clientHeight,10)}px`:"100%";this.props.isRoot?this.style.height=o:this.closest(`${e}[is-root]`).style.height=o}},mounted(){const t=Array.from(this.children).find((t=>t.nodeType===Node.ELEMENT_NODE&&"ul"===t.tagName.toLowerCase()));if(!t)throw new Error("No root list element found");const e=Array.from(t.children).filter((t=>t.nodeType===Node.ELEMENT_NODE&&"li"===t.tagName.toLowerCase())).filter((t=>Array.from(t.children).find((t=>t.nodeType===Node.ELEMENT_NODE&&t.classList.contains("mcc-drilldown-submenu")))));for(const t of e){t.setAttribute("id",`drilldown-submenu-parent-${this.props.id}`),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-haspopup","true");const e=Array.from(t.children).find((t=>t.nodeType===Node.ELEMENT_NODE&&t.classList.contains("mcc-drilldown-submenu")));e.setAttribute("id",`drilldown-submenu-${this.props.id}`),e.setAttribute("aria-hidden","true"),e.setAttribute("role","group");const o=Array.from(e.children).find((t=>t.nodeType===Node.ELEMENT_NODE&&"ul"===t.tagName.toLowerCase()));Array.from(t.children).find((t=>t.nodeType===Node.ELEMENT_NODE&&"button"===t.tagName.toLowerCase())).addEventListener("click",(n=>{n.preventDefault(),n.stopPropagation(),e.classList.add("mu-is-active"),this.methods.setRootHeight(o),e.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true"),this.emit("open")}));const n=document.createElement("button");n.setAttribute("id",`drilldown-submenu-back-button-${this.props.id}`);const i=this.props.showBackToParent?`${this.props.backButtonText} to ${t.firstElementChild.textContent.trim()}`:this.props.backButtonText;n.textContent=i,n.addEventListener("click",(o=>{o.preventDefault(),o.stopPropagation(),e.classList.remove("mu-is-active"),t.setAttribute("aria-expanded","false"),this.methods.setRootHeight(),this.emit("close")})),o.insertBefore(n,o.firstChild)}},styles:()=>"\n        mcc-drilldown {\n          display: block;\n          overflow: hidden;\n        }\n        mcc-drilldown div[id^='drilldown-submenu-'] {\n          position: absolute;\n          top: 0;\n          left: 100%;\n          z-index: -1;\n          transition: transform 250ms ease-out;\n          width: 100%;\n          height: 100%;\n        }\n        mcc-drilldown div[id^='drilldown-submenu-'].mu-is-active {\n          transform: translateX(-100%);\n          z-index: 1;\n        }\n      ",render(){return o`${this.slots.default}`}}}(n))}};export{o as drilldown};
